{"ast":null,"code":"var _jsxFileName = \"D:\\\\TCS\\\\DynaChain\\\\dynachain\\\\dynachain-master\\\\dynachain\\\\src\\\\Demand\\\\Components\\\\CircularBarPlot\\\\CircularBarPlot.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport { select } from 'd3';\nimport * as d3 from 'd3';\n\nfunction CircularBarPlot() {\n  const chartdata = [{\n    'Country': 'USA',\n    'Value': 12534\n  }, {\n    'Country': 'Russia',\n    'Value': 6148\n  }, {\n    'Country': 'Germany',\n    'Value': 615\n  }];\n  const [data, setData] = useState([10, 20, 30, 40]);\n  const svgRef = useRef();\n  const width = 400;\n  const height = 400;\n  const innerRadius = 90;\n  const outerRadius = Math.min(width, height) / 2;\n  useEffect(() => {\n    const svg = select(svgRef.current);\n    const xScale = d3.scaleBand().range([0, 2 * Math.PI]) // X axis goes from 0 to 2pi = all around the circle. If I stop at 1Pi, it will be around a half circle\n    .align(0) // This does nothing\n    .domain(data.map(data => {\n      data.Country;\n    }));\n    const yScale = d3.scaleRadial().range([innerRadius, outerRadius]) // Domain will be define later.\n    .domain([0, 14000]); // Domain of Y is from 0 to the max seen in the data\n    // Add the bars\n\n    svg.append(\"g\").selectAll(\"path\").data(data).enter().append(\"path\").attr(\"fill\", \"#69b3a2\").attr(\"d\", d3.arc() // imagine your doing a part of a donut plot\n    .innerRadius(innerRadius).outerRadius(function (d) {\n      return y(d['Value']);\n    }).startAngle(function (d) {\n      return x(d.Country);\n    }).endAngle(function (d) {\n      return x(d.Country) + x.bandwidth();\n    }).padAngle(0.01).padRadius(innerRadius));\n  }, [data]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '400px',\n      width: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: svgRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default CircularBarPlot;\n/* svg\r\n    .selectAll(\"circle\")\r\n    .data(data)\r\n    .join(\"circle\")\r\n    .attr('r', value => value)\r\n    .attr('cx', value => value * 2)\r\n    .attr('cy', value => value * 2)\r\n    .attr('stroke', \"yellow\") */","map":{"version":3,"sources":["D:/TCS/DynaChain/dynachain/dynachain-master/dynachain/src/Demand/Components/CircularBarPlot/CircularBarPlot.js"],"names":["React","useRef","useEffect","useState","select","d3","CircularBarPlot","chartdata","data","setData","svgRef","width","height","innerRadius","outerRadius","Math","min","svg","current","xScale","scaleBand","range","PI","align","domain","map","Country","yScale","scaleRadial","append","selectAll","enter","attr","arc","d","y","startAngle","x","endAngle","bandwidth","padAngle","padRadius"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,MAAd,EAAqBC,SAArB,EAA+BC,QAA/B,QAA8C,OAA9C;AACA,SAAQC,MAAR,QAAqB,IAArB;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;AAKA,SAASC,eAAT,GAA2B;AAE3B,QAAMC,SAAS,GAAG,CAAC;AAAC,eAAU,KAAX;AAAiB,aAAQ;AAAzB,GAAD,EAAiC;AAAC,eAAU,QAAX;AAAoB,aAAQ;AAA5B,GAAjC,EAAmE;AAAC,eAAU,SAAX;AAAqB,aAAQ;AAA7B,GAAnE,CAAlB;AACA,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBN,QAAQ,CAAC,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,CAAD,CAA/B;AACA,QAAMO,MAAM,GAAGT,MAAM,EAArB;AACA,QAAMU,KAAK,GAAG,GAAd;AACA,QAAMC,MAAM,GAAG,GAAf;AACA,QAAMC,WAAW,GAAG,EAApB;AACA,QAAMC,WAAW,GAAGC,IAAI,CAACC,GAAL,CAASL,KAAT,EAAgBC,MAAhB,IAA0B,CAA9C;AAGAV,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMe,GAAG,GAAGb,MAAM,CAACM,MAAM,CAACQ,OAAR,CAAlB;AAEA,UAAMC,MAAM,GAAGd,EAAE,CAACe,SAAH,GACZC,KADY,CACN,CAAC,CAAD,EAAI,IAAIN,IAAI,CAACO,EAAb,CADM,EACe;AADf,KAEZC,KAFY,CAEN,CAFM,EAEc;AAFd,KAGZC,MAHY,CAGLhB,IAAI,CAACiB,GAAL,CAAUjB,IAAD,IAAU;AAACA,MAAAA,IAAI,CAACkB,OAAL;AAAa,KAAjC,CAHK,CAAf;AAKA,UAAMC,MAAM,GAAGtB,EAAE,CAACuB,WAAH,GACdP,KADc,CACR,CAACR,WAAD,EAAcC,WAAd,CADQ,EACsB;AADtB,KAEdU,MAFc,CAEP,CAAC,CAAD,EAAI,KAAJ,CAFO,CAAf,CARY,CAUS;AAErB;;AACAP,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EACKC,SADL,CACe,MADf,EAEKtB,IAFL,CAEUA,IAFV,EAGKuB,KAHL,GAIKF,MAJL,CAIY,MAJZ,EAKKG,IALL,CAKU,MALV,EAKkB,SALlB,EAMKA,IANL,CAMU,GANV,EAMe3B,EAAE,CAAC4B,GAAH,GAAa;AAAb,KACNpB,WADM,CACMA,WADN,EAENC,WAFM,CAEM,UAAUoB,CAAV,EAAa;AAAE,aAAOC,CAAC,CAACD,CAAC,CAAC,OAAD,CAAF,CAAR;AAAuB,KAF5C,EAGNE,UAHM,CAGK,UAAUF,CAAV,EAAa;AAAE,aAAOG,CAAC,CAACH,CAAC,CAACR,OAAH,CAAR;AAAsB,KAH1C,EAINY,QAJM,CAIG,UAAUJ,CAAV,EAAa;AAAE,aAAOG,CAAC,CAACH,CAAC,CAACR,OAAH,CAAD,GAAeW,CAAC,CAACE,SAAF,EAAtB;AAAsC,KAJxD,EAKNC,QALM,CAKG,IALH,EAMNC,SANM,CAMI5B,WANJ,CANf;AAaH,GA1BQ,EA0BN,CAACL,IAAD,CA1BM,CAAT;AA+BI,sBACI;AAAK,IAAA,KAAK,EAAE;AAACI,MAAAA,MAAM,EAAC,OAAR;AAAgBD,MAAAA,KAAK,EAAC;AAAtB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAED,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH;;AAED,eAAeJ,eAAf;AAKA","sourcesContent":["import React,{useRef,useEffect,useState} from 'react';\r\nimport {select} from 'd3';\r\nimport * as d3 from 'd3'\r\n\r\n\r\n\r\n\r\nfunction CircularBarPlot() {\r\n\r\nconst chartdata = [{'Country':'USA','Value':12534},{'Country':'Russia','Value':6148},{'Country':'Germany','Value':615}];\r\nconst [data,setData] = useState([10,20,30,40]);\r\nconst svgRef = useRef();\r\nconst width = 400;\r\nconst height = 400;\r\nconst innerRadius = 90;\r\nconst outerRadius = Math.min(width, height) / 2; \r\n\r\n\r\nuseEffect(() => {\r\n    const svg = select(svgRef.current);\r\n\r\n    const xScale = d3.scaleBand()\r\n      .range([0, 2 * Math.PI])    // X axis goes from 0 to 2pi = all around the circle. If I stop at 1Pi, it will be around a half circle\r\n      .align(0)                  // This does nothing\r\n      .domain(data.map((data) => {data.Country}));\r\n\r\n    const yScale = d3.scaleRadial()\r\n    .range([innerRadius, outerRadius])   // Domain will be define later.\r\n    .domain([0, 14000]); // Domain of Y is from 0 to the max seen in the data\r\n\r\n    // Add the bars\r\n    svg.append(\"g\")\r\n        .selectAll(\"path\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"path\")\r\n        .attr(\"fill\", \"#69b3a2\")\r\n        .attr(\"d\", d3.arc()     // imagine your doing a part of a donut plot\r\n            .innerRadius(innerRadius)\r\n            .outerRadius(function (d) { return y(d['Value']); })\r\n            .startAngle(function (d) { return x(d.Country); })\r\n            .endAngle(function (d) { return x(d.Country) + x.bandwidth(); })\r\n            .padAngle(0.01)\r\n            .padRadius(innerRadius)) \r\n}, [data]);\r\n\r\n    \r\n\r\n\r\n    return (\r\n        <div style={{height:'400px',width:'400px'}}>\r\n            <svg ref={svgRef}></svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CircularBarPlot;\r\n\r\n\r\n\r\n\r\n/* svg\r\n    .selectAll(\"circle\")\r\n    .data(data)\r\n    .join(\"circle\")\r\n    .attr('r', value => value)\r\n    .attr('cx', value => value * 2)\r\n    .attr('cy', value => value * 2)\r\n    .attr('stroke', \"yellow\") */\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}