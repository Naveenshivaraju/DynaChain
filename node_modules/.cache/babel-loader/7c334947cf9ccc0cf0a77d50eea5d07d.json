{"ast":null,"code":"import React, { memo, useMemo, useCallback, useState, Fragment, useRef, useEffect } from 'react';\nimport { lineCurvePropType, blendModePropType, motionPropTypes, defsPropTypes, curveFromProp, useValueFormatter, useTheme, useMotionConfig, SmartMotion, getLabelGenerator, DotsItem, withContainer, useDimensions, CartesianMarkers, bindDefs, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\nimport { ordinalColorsPropType, useOrdinalColorScale, useInheritedColor } from '@nivo/colors';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { BasicTooltip, TableTooltip, crosshairPropTypes, useTooltip, Crosshair } from '@nivo/tooltip';\nimport { line, area } from 'd3-shape';\nimport { scalePropType, computeXYScalesForSeries } from '@nivo/scales';\nimport PropTypes from 'prop-types';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\n\nvar LinePointTooltip = function LinePointTooltip(_ref) {\n  var point = _ref.point;\n  return React.createElement(BasicTooltip, {\n    id: React.createElement(\"span\", null, \"x: \", React.createElement(\"strong\", null, point.data.xFormatted), \", y:\", ' ', React.createElement(\"strong\", null, point.data.yFormatted)),\n    enableChip: true,\n    color: point.serieColor\n  });\n};\n\nLinePointTooltip.propTypes = {\n  point: PropTypes.object.isRequired\n};\nvar PointTooltip = memo(LinePointTooltip);\n\nvar Chip = function Chip(_ref) {\n  var color = _ref.color;\n  return React.createElement(\"span\", {\n    style: {\n      display: 'block',\n      width: '12px',\n      height: '12px',\n      background: color\n    }\n  });\n};\n\nChip.propTypes = {\n  color: PropTypes.string.isRequired\n};\n\nvar SliceTooltip = function SliceTooltip(_ref2) {\n  var slice = _ref2.slice,\n      axis = _ref2.axis;\n  var otherAxis = axis === 'x' ? 'y' : 'x';\n  return React.createElement(TableTooltip, {\n    rows: slice.points.map(function (point) {\n      return [React.createElement(Chip, {\n        key: \"chip\",\n        color: point.serieColor\n      }), point.serieId, React.createElement(\"strong\", {\n        key: \"value\"\n      }, point.data[\"\".concat(otherAxis, \"Formatted\")])];\n    })\n  });\n};\n\nSliceTooltip.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired\n};\nvar SliceTooltip$1 = memo(SliceTooltip);\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar commonPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]),\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n    })).isRequired\n  })).isRequired,\n  xScale: scalePropType.isRequired,\n  xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  yScale: scalePropType.isRequired,\n  yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'slices', 'points', 'mesh', 'legends']), PropTypes.func])).isRequired,\n  curve: lineCurvePropType.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\n  enablePoints: PropTypes.bool.isRequired,\n  pointSymbol: PropTypes.func,\n  pointSize: PropTypes.number.isRequired,\n  pointColor: PropTypes.any.isRequired,\n  pointBorderWidth: PropTypes.number.isRequired,\n  pointBorderColor: PropTypes.any.isRequired,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    style: PropTypes.object\n  })),\n  colors: ordinalColorsPropType.isRequired,\n  enableArea: PropTypes.bool.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  areaBaselineValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  debugMesh: PropTypes.bool.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n  debugSlices: PropTypes.bool.isRequired,\n  sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  enableCrosshair: PropTypes.bool.isRequired,\n  crosshairType: crosshairPropTypes.type.isRequired\n};\n\nvar LinePropTypes = _objectSpread({}, commonPropTypes, {\n  enablePointLabel: PropTypes.bool.isRequired,\n  useMesh: PropTypes.bool.isRequired\n}, motionPropTypes, defsPropTypes);\n\nvar LineCanvasPropTypes = _objectSpread({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\n\nvar commonDefaultProps = {\n  curve: 'linear',\n  xScale: {\n    type: 'point'\n  },\n  yScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  layers: ['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'points', 'slices', 'mesh', 'legends'],\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: true,\n  enableGridY: true,\n  enablePoints: true,\n  pointSize: 6,\n  pointColor: {\n    from: 'color'\n  },\n  pointBorderWidth: 0,\n  pointBorderColor: {\n    theme: 'background'\n  },\n  colors: {\n    scheme: 'nivo'\n  },\n  enableArea: false,\n  areaBaselineValue: 0,\n  areaOpacity: 0.2,\n  areaBlendMode: 'normal',\n  lineWidth: 2,\n  legends: [],\n  isInteractive: true,\n  tooltip: PointTooltip,\n  enableSlices: false,\n  debugSlices: false,\n  sliceTooltip: SliceTooltip$1,\n  debugMesh: false,\n  enableCrosshair: true,\n  crosshairType: 'bottom-left'\n};\n\nvar LineDefaultProps = _objectSpread({}, commonDefaultProps, {\n  enablePointLabel: false,\n  useMesh: false,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15,\n  defs: [],\n  fill: []\n});\n\nvar LineCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar useLineGenerator = function useLineGenerator(_ref) {\n  var curve = _ref.curve;\n  return useMemo(function () {\n    return line().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve));\n  }, [curve]);\n};\n\nvar useAreaGenerator = function useAreaGenerator(_ref2) {\n  var curve = _ref2.curve,\n      yScale = _ref2.yScale,\n      areaBaselineValue = _ref2.areaBaselineValue;\n  return useMemo(function () {\n    return area().defined(function (d) {\n      return d.x !== null && d.y !== null;\n    }).x(function (d) {\n      return d.x;\n    }).y1(function (d) {\n      return d.y;\n    }).curve(curveFromProp(curve)).y0(yScale(areaBaselineValue));\n  }, [curve, yScale, areaBaselineValue]);\n};\n\nvar usePoints = function usePoints(_ref3) {\n  var series = _ref3.series,\n      getPointColor = _ref3.getPointColor,\n      getPointBorderColor = _ref3.getPointBorderColor,\n      formatX = _ref3.formatX,\n      formatY = _ref3.formatY;\n  return useMemo(function () {\n    return series.reduce(function (acc, serie) {\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(serie.data.filter(function (datum) {\n        return datum.position.x !== null && datum.position.y !== null;\n      }).map(function (datum, i) {\n        var point = {\n          id: \"\".concat(serie.id, \".\").concat(i),\n          index: acc.length + i,\n          serieId: serie.id,\n          serieColor: serie.color,\n          x: datum.position.x,\n          y: datum.position.y\n        };\n        point.color = getPointColor(serie);\n        point.borderColor = getPointBorderColor(point);\n        point.data = _objectSpread$1({}, datum.data, {\n          xFormatted: formatX(datum.data.x),\n          yFormatted: formatY(datum.data.y)\n        });\n        return point;\n      })));\n    }, []);\n  }, [series, getPointColor, getPointBorderColor, formatX, formatY]);\n};\n\nvar useSlices = function useSlices(_ref4) {\n  var enableSlices = _ref4.enableSlices,\n      points = _ref4.points,\n      width = _ref4.width,\n      height = _ref4.height;\n  return useMemo(function () {\n    if (enableSlices === false) return [];\n\n    if (enableSlices === 'x') {\n      var map = new Map();\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!map.has(point.x)) map.set(point.x, [point]);else map.get(point.x).push(point);\n      });\n      return Array.from(map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref5, i, slices) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            x = _ref6[0],\n            slicePoints = _ref6[1];\n\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var x0;\n        if (!prevSlice) x0 = x;else x0 = x - (x - prevSlice[0]) / 2;\n        var sliceWidth;\n        if (!nextSlice) sliceWidth = width - x0;else sliceWidth = x - x0 + (nextSlice[0] - x) / 2;\n        return {\n          id: x,\n          x0: x0,\n          x: x,\n          y0: 0,\n          y: 0,\n          width: sliceWidth,\n          height: height,\n          points: slicePoints.reverse()\n        };\n      });\n    } else if (enableSlices === 'y') {\n      var _map = new Map();\n\n      points.forEach(function (point) {\n        if (point.data.x === null || point.data.y === null) return;\n        if (!_map.has(point.y)) _map.set(point.y, [point]);else _map.get(point.y).push(point);\n      });\n      return Array.from(_map.entries()).sort(function (a, b) {\n        return a[0] - b[0];\n      }).map(function (_ref7, i, slices) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            y = _ref8[0],\n            slicePoints = _ref8[1];\n\n        var prevSlice = slices[i - 1];\n        var nextSlice = slices[i + 1];\n        var y0;\n        if (!prevSlice) y0 = y;else y0 = y - (y - prevSlice[0]) / 2;\n        var sliceHeight;\n        if (!nextSlice) sliceHeight = height - y0;else sliceHeight = y - y0 + (nextSlice[0] - y) / 2;\n        return {\n          id: y,\n          x0: 0,\n          x: 0,\n          y0: y0,\n          y: y,\n          width: width,\n          height: sliceHeight,\n          points: slicePoints.reverse()\n        };\n      });\n    }\n  }, [enableSlices, points]);\n};\n\nvar useLine = function useLine(_ref9) {\n  var data = _ref9.data,\n      _ref9$xScale = _ref9.xScale,\n      xScaleSpec = _ref9$xScale === void 0 ? LineDefaultProps.xScale : _ref9$xScale,\n      xFormat = _ref9.xFormat,\n      _ref9$yScale = _ref9.yScale,\n      yScaleSpec = _ref9$yScale === void 0 ? LineDefaultProps.yScale : _ref9$yScale,\n      yFormat = _ref9.yFormat,\n      width = _ref9.width,\n      height = _ref9.height,\n      _ref9$colors = _ref9.colors,\n      colors = _ref9$colors === void 0 ? LineDefaultProps.colors : _ref9$colors,\n      _ref9$curve = _ref9.curve,\n      curve = _ref9$curve === void 0 ? LineDefaultProps.curve : _ref9$curve,\n      _ref9$areaBaselineVal = _ref9.areaBaselineValue,\n      areaBaselineValue = _ref9$areaBaselineVal === void 0 ? LineDefaultProps.areaBaselineValue : _ref9$areaBaselineVal,\n      _ref9$pointColor = _ref9.pointColor,\n      pointColor = _ref9$pointColor === void 0 ? LineDefaultProps.pointColor : _ref9$pointColor,\n      _ref9$pointBorderColo = _ref9.pointBorderColor,\n      pointBorderColor = _ref9$pointBorderColo === void 0 ? LineDefaultProps.pointBorderColor : _ref9$pointBorderColo,\n      _ref9$enableSlices = _ref9.enableSlices,\n      enableSlices = _ref9$enableSlices === void 0 ? LineDefaultProps.enableSlicesTooltip : _ref9$enableSlices;\n  var formatX = useValueFormatter(xFormat);\n  var formatY = useValueFormatter(yFormat);\n  var getColor = useOrdinalColorScale(colors, 'id');\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n\n  var _useMemo = useMemo(function () {\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\n      xScale = _useMemo.xScale,\n      yScale = _useMemo.yScale,\n      rawSeries = _useMemo.series;\n\n  var series = useMemo(function () {\n    return rawSeries.map(function (serie) {\n      return _objectSpread$1({}, serie, {\n        color: getColor(serie)\n      });\n    });\n  }, [rawSeries, getColor]);\n  var points = usePoints({\n    series: series,\n    getPointColor: getPointColor,\n    getPointBorderColor: getPointBorderColor,\n    formatX: formatX,\n    formatY: formatY\n  });\n  var slices = useSlices({\n    enableSlices: enableSlices,\n    points: points,\n    width: width,\n    height: height\n  });\n  var lineGenerator = useLineGenerator({\n    curve: curve\n  });\n  var areaGenerator = useAreaGenerator({\n    curve: curve,\n    yScale: yScale,\n    areaBaselineValue: areaBaselineValue\n  });\n  return {\n    lineGenerator: lineGenerator,\n    areaGenerator: areaGenerator,\n    getColor: getColor,\n    series: series,\n    xScale: xScale,\n    yScale: yScale,\n    slices: slices,\n    points: points\n  };\n};\n\nvar Areas = function Areas(_ref) {\n  var areaGenerator = _ref.areaGenerator,\n      areaOpacity = _ref.areaOpacity,\n      areaBlendMode = _ref.areaBlendMode,\n      lines = _ref.lines;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (animate !== true) {\n    return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref2) {\n      var id = _ref2.id,\n          data = _ref2.data,\n          areaColor = _ref2.color,\n          fill = _ref2.fill;\n      return React.createElement(\"path\", {\n        key: id,\n        d: areaGenerator(data.map(function (d) {\n          return d.position;\n        })),\n        fill: fill ? fill : areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    }));\n  }\n\n  return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref3) {\n    var id = _ref3.id,\n        data = _ref3.data,\n        areaColor = _ref3.color,\n        fill = _ref3.fill;\n    return React.createElement(SmartMotion, {\n      key: id,\n      style: function style(spring) {\n        return {\n          d: spring(areaGenerator(data.map(function (d) {\n            return d.position;\n          })), springConfig),\n          fill: spring(areaColor, springConfig)\n        };\n      }\n    }, function (style) {\n      return React.createElement(\"path\", {\n        key: id,\n        d: style.d,\n        fill: fill ? fill : areaColor,\n        fillOpacity: areaOpacity,\n        strokeWidth: 0,\n        style: {\n          mixBlendMode: areaBlendMode\n        }\n      });\n    });\n  }));\n};\n\nAreas.propTypes = {\n  areaGenerator: PropTypes.func.isRequired,\n  areaOpacity: PropTypes.number.isRequired,\n  areaBlendMode: blendModePropType.isRequired,\n  lines: PropTypes.arrayOf(PropTypes.object).isRequired\n};\nvar Areas$1 = memo(Areas);\n\nvar LinesItem = function LinesItem(_ref) {\n  var lineGenerator = _ref.lineGenerator,\n      id = _ref.id,\n      points = _ref.points,\n      color = _ref.color,\n      thickness = _ref.thickness;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  if (animate !== true) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: lineGenerator(points),\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: color\n    });\n  }\n\n  return React.createElement(SmartMotion, {\n    key: id,\n    style: function style(spring) {\n      return {\n        d: spring(lineGenerator(points), springConfig),\n        stroke: spring(color, springConfig)\n      };\n    }\n  }, function (style) {\n    return React.createElement(\"path\", {\n      key: id,\n      d: style.d,\n      fill: \"none\",\n      strokeWidth: thickness,\n      stroke: style.stroke\n    });\n  });\n};\n\nLinesItem.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  points: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  })),\n  lineGenerator: PropTypes.func.isRequired,\n  color: PropTypes.string.isRequired,\n  thickness: PropTypes.number.isRequired\n};\nvar LinesItem$1 = memo(LinesItem);\n\nvar Lines = function Lines(_ref) {\n  var lines = _ref.lines,\n      lineGenerator = _ref.lineGenerator,\n      lineWidth = _ref.lineWidth;\n  return lines.map(function (_ref2) {\n    var id = _ref2.id,\n        data = _ref2.data,\n        color = _ref2.color;\n    return React.createElement(LinesItem$1, {\n      key: id,\n      id: id,\n      points: data.map(function (d) {\n        return d.position;\n      }),\n      lineGenerator: lineGenerator,\n      color: color,\n      thickness: lineWidth\n    });\n  });\n};\n\nLines.propTypes = {\n  lines: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      data: PropTypes.shape({\n        x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\n        y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n      }).isRequired,\n      position: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }).isRequired\n    })).isRequired\n  })).isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  lineGenerator: PropTypes.func.isRequired\n};\nvar Lines$1 = memo(Lines);\n\nvar SlicesItem = function SlicesItem(_ref) {\n  var slice = _ref.slice,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      tooltip = _ref.tooltip,\n      isCurrent = _ref.isCurrent,\n      setCurrent = _ref.setCurrent;\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseEnter = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n    setCurrent(slice);\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseMove = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      slice: slice,\n      axis: axis\n    }), event, 'right');\n  }, [showTooltipFromEvent, tooltip, slice]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n    setCurrent(null);\n  }, [hideTooltip]);\n  return React.createElement(\"rect\", {\n    x: slice.x0,\n    y: slice.y0,\n    width: slice.width,\n    height: slice.height,\n    stroke: \"red\",\n    strokeWidth: debug ? 1 : 0,\n    strokeOpacity: 0.75,\n    fill: \"red\",\n    fillOpacity: isCurrent && debug ? 0.35 : 0,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave\n  });\n};\n\nSlicesItem.propTypes = {\n  slice: PropTypes.object.isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  isCurrent: PropTypes.bool.isRequired,\n  setCurrent: PropTypes.func.isRequired\n};\nvar SlicesItem$1 = memo(SlicesItem);\n\nvar Slices = function Slices(_ref) {\n  var slices = _ref.slices,\n      axis = _ref.axis,\n      debug = _ref.debug,\n      height = _ref.height,\n      tooltip = _ref.tooltip,\n      current = _ref.current,\n      setCurrent = _ref.setCurrent;\n  return slices.map(function (slice) {\n    return React.createElement(SlicesItem$1, {\n      key: slice.id,\n      slice: slice,\n      axis: axis,\n      debug: debug,\n      height: height,\n      tooltip: tooltip,\n      setCurrent: setCurrent,\n      isCurrent: current !== null && current.id === slice.id\n    });\n  });\n};\n\nSlices.propTypes = {\n  slices: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    points: PropTypes.arrayOf(PropTypes.object).isRequired\n  })).isRequired,\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\n  debug: PropTypes.bool.isRequired,\n  height: PropTypes.number.isRequired,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  current: PropTypes.object,\n  setCurrent: PropTypes.func.isRequired\n};\nvar Slices$1 = memo(Slices);\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Points = function Points(_ref) {\n  var points = _ref.points,\n      symbol = _ref.symbol,\n      size = _ref.size,\n      borderWidth = _ref.borderWidth,\n      enableLabel = _ref.enableLabel,\n      label = _ref.label,\n      labelYOffset = _ref.labelYOffset;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.springConfig;\n\n  var getLabel = getLabelGenerator(label);\n  var mappedPoints = points.map(function (point) {\n    var mappedPoint = {\n      id: point.id,\n      x: point.x,\n      y: point.y,\n      datum: point.data,\n      fill: point.color,\n      stroke: point.borderColor,\n      label: enableLabel ? getLabel(point.data) : null\n    };\n    return mappedPoint;\n  });\n\n  if (animate !== true) {\n    return React.createElement(\"g\", null, mappedPoints.map(function (point) {\n      return React.createElement(DotsItem, {\n        key: point.id,\n        x: point.x,\n        y: point.y,\n        datum: point.datum,\n        symbol: symbol,\n        size: size,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      });\n    }));\n  }\n\n  return React.createElement(TransitionMotion, {\n    styles: mappedPoints.map(function (point) {\n      return {\n        key: point.id,\n        data: point,\n        style: {\n          x: spring(point.x, springConfig),\n          y: spring(point.y, springConfig),\n          size: spring(size, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          point = _ref2.data;\n      return React.createElement(DotsItem, _extends({\n        key: key\n      }, style, {\n        symbol: symbol,\n        datum: point.datum,\n        color: point.fill,\n        borderWidth: borderWidth,\n        borderColor: point.stroke,\n        label: point.label,\n        labelYOffset: labelYOffset,\n        theme: theme\n      }));\n    }));\n  });\n};\n\nPoints.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object),\n  symbol: PropTypes.func,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.func.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelYOffset: PropTypes.number\n};\nPoints.defaultProps = {\n  enableLabel: false,\n  label: 'yFormatted'\n};\nvar Points$1 = memo(Points);\n\nvar Mesh = function Mesh(_ref) {\n  var points = _ref.points,\n      width = _ref.width,\n      height = _ref.height,\n      margin = _ref.margin,\n      setCurrent = _ref.setCurrent,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      debug = _ref.debug;\n\n  var _useTooltip = useTooltip(),\n      showTooltipAt = _useTooltip.showTooltipAt,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseEnter = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseEnter && onMouseEnter(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]);\n  var handleMouseMove = useCallback(function (point, event) {\n    showTooltipAt(React.createElement(tooltip, {\n      point: point\n    }), [point.x + margin.left, point.y + margin.top], 'top');\n    setCurrent(point);\n    onMouseMove && onMouseMove(point, event);\n  }, [setCurrent, showTooltipAt, tooltip, onMouseMove]);\n  var handleMouseLeave = useCallback(function (point, event) {\n    hideTooltip();\n    setCurrent(null);\n    onMouseLeave && onMouseLeave(point, event);\n  }, [hideTooltip, setCurrent, onMouseLeave]);\n  var handleClick = useCallback(function (point, event) {\n    onClick && onClick(point, event);\n  }, [onClick]);\n  return React.createElement(Mesh$2, {\n    nodes: points,\n    width: width,\n    height: height,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    debug: debug\n  });\n};\n\nMesh.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.object).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  margin: PropTypes.object.isRequired,\n  setCurrent: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  debug: PropTypes.bool.isRequired\n};\nvar Mesh$1 = memo(Mesh);\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar Line = function Line(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      layers = props.layers,\n      curve = props.curve,\n      areaBaselineValue = props.areaBaselineValue,\n      colors = props.colors,\n      partialMargin = props.margin,\n      width = props.width,\n      height = props.height,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      lineWidth = props.lineWidth,\n      enableArea = props.enableArea,\n      areaOpacity = props.areaOpacity,\n      areaBlendMode = props.areaBlendMode,\n      enablePoints = props.enablePoints,\n      pointSymbol = props.pointSymbol,\n      pointSize = props.pointSize,\n      pointColor = props.pointColor,\n      pointBorderWidth = props.pointBorderWidth,\n      pointBorderColor = props.pointBorderColor,\n      enablePointLabel = props.enablePointLabel,\n      pointLabel = props.pointLabel,\n      pointLabelFormat = props.pointLabelFormat,\n      pointLabelYOffset = props.pointLabelYOffset,\n      defs = props.defs,\n      fill = props.fill,\n      markers = props.markers,\n      legends = props.legends,\n      isInteractive = props.isInteractive,\n      useMesh = props.useMesh,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      enableSlices = props.enableSlices,\n      debugSlices = props.debugSlices,\n      sliceTooltip = props.sliceTooltip,\n      enableCrosshair = props.enableCrosshair,\n      crosshairType = props.crosshairType;\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor,\n    enableSlices: enableSlices\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      slices = _useLine.slices,\n      points = _useLine.points;\n\n  var theme = useTheme();\n  var getPointColor = useInheritedColor(pointColor, theme);\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      currentSlice = _useState4[0],\n      setCurrentSlice = _useState4[1];\n\n  var legendData = useMemo(function () {\n    return series.map(function (line) {\n      return {\n        id: line.id,\n        label: line.id,\n        color: line.color\n      };\n    }).reverse();\n  }, [series]);\n  var layerById = {\n    grid: React.createElement(Grid, {\n      key: \"grid\",\n      theme: theme,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }),\n    markers: React.createElement(CartesianMarkers, {\n      key: \"markers\",\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: xScale,\n      yScale: yScale,\n      theme: theme\n    }),\n    axes: React.createElement(Axes, {\n      key: \"axes\",\n      xScale: xScale,\n      yScale: yScale,\n      width: innerWidth,\n      height: innerHeight,\n      theme: theme,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }),\n    areas: null,\n    lines: React.createElement(Lines$1, {\n      key: \"lines\",\n      lines: series,\n      lineGenerator: lineGenerator,\n      lineWidth: lineWidth\n    }),\n    slices: null,\n    points: null,\n    crosshair: null,\n    mesh: null,\n    legends: legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: \"legend.\".concat(i)\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legend.data || legendData,\n        theme: theme\n      }));\n    })\n  };\n  var boundDefs = bindDefs(defs, series, fill);\n\n  if (enableArea) {\n    layerById.areas = React.createElement(Areas$1, {\n      key: \"areas\",\n      areaGenerator: areaGenerator,\n      areaOpacity: areaOpacity,\n      areaBlendMode: areaBlendMode,\n      lines: series\n    });\n  }\n\n  if (isInteractive && enableSlices !== false) {\n    layerById.slices = React.createElement(Slices$1, {\n      key: \"slices\",\n      slices: slices,\n      axis: enableSlices,\n      debug: debugSlices,\n      height: innerHeight,\n      tooltip: sliceTooltip,\n      current: currentSlice,\n      setCurrent: setCurrentSlice\n    });\n  }\n\n  if (enablePoints) {\n    layerById.points = React.createElement(Points$1, {\n      key: \"points\",\n      points: points,\n      symbol: pointSymbol,\n      size: pointSize,\n      color: getPointColor,\n      borderWidth: pointBorderWidth,\n      borderColor: getPointBorderColor,\n      enableLabel: enablePointLabel,\n      label: pointLabel,\n      labelFormat: pointLabelFormat,\n      labelYOffset: pointLabelYOffset\n    });\n  }\n\n  if (isInteractive && enableCrosshair) {\n    if (currentPoint !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentPoint.x,\n        y: currentPoint.y,\n        type: crosshairType\n      });\n    }\n\n    if (currentSlice !== null) {\n      layerById.crosshair = React.createElement(Crosshair, {\n        key: \"crosshair\",\n        width: innerWidth,\n        height: innerHeight,\n        x: currentSlice.x,\n        y: currentSlice.y,\n        type: enableSlices\n      });\n    }\n  }\n\n  if (isInteractive && useMesh && enableSlices === false) {\n    layerById.mesh = React.createElement(Mesh$1, {\n      key: \"mesh\",\n      points: points,\n      width: innerWidth,\n      height: innerHeight,\n      margin: margin,\n      current: currentPoint,\n      setCurrent: setCurrentPoint,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      debug: debugMesh\n    });\n  }\n\n  return React.createElement(SvgWrapper, {\n    defs: boundDefs,\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin\n  }, layers.map(function (layer, i) {\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, layer(_objectSpread$2({}, props, {\n        innerWidth: innerWidth,\n        innerHeight: innerHeight,\n        series: series,\n        slices: slices,\n        points: points,\n        xScale: xScale,\n        yScale: yScale,\n        lineGenerator: lineGenerator,\n        areaGenerator: areaGenerator,\n        currentPoint: currentPoint,\n        setCurrentPoint: setCurrentPoint,\n        currentSlice: currentSlice,\n        setCurrentSlice: setCurrentSlice\n      })));\n    }\n\n    return layerById[layer];\n  }));\n};\n\nLine.propTypes = LinePropTypes;\nLine.defaultProps = LineDefaultProps;\nvar Line$1 = withContainer(Line);\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar ResponsiveLine = function ResponsiveLine(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Line$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray$2(arr, i) {\n  return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _nonIterableRest$2();\n}\n\nfunction _nonIterableRest$2() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit$2(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$2(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar LineCanvas = function LineCanvas(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      pixelRatio = _ref.pixelRatio,\n      data = _ref.data,\n      xScaleSpec = _ref.xScale,\n      xFormat = _ref.xFormat,\n      yScaleSpec = _ref.yScale,\n      yFormat = _ref.yFormat,\n      curve = _ref.curve,\n      layers = _ref.layers,\n      colors = _ref.colors,\n      lineWidth = _ref.lineWidth,\n      enableArea = _ref.enableArea,\n      areaBaselineValue = _ref.areaBaselineValue,\n      areaOpacity = _ref.areaOpacity,\n      enablePoints = _ref.enablePoints,\n      pointSize = _ref.pointSize,\n      pointColor = _ref.pointColor,\n      pointBorderWidth = _ref.pointBorderWidth,\n      pointBorderColor = _ref.pointBorderColor,\n      enableGridX = _ref.enableGridX,\n      gridXValues = _ref.gridXValues,\n      enableGridY = _ref.enableGridY,\n      gridYValues = _ref.gridYValues,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      axisBottom = _ref.axisBottom,\n      axisLeft = _ref.axisLeft,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      debugMesh = _ref.debugMesh,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n  var canvasEl = useRef(null);\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var theme = useTheme();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray$2(_useState, 2),\n      currentPoint = _useState2[0],\n      setCurrentPoint = _useState2[1];\n\n  var _useLine = useLine({\n    data: data,\n    xScale: xScaleSpec,\n    xFormat: xFormat,\n    yScale: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    colors: colors,\n    curve: curve,\n    areaBaselineValue: areaBaselineValue,\n    pointColor: pointColor,\n    pointBorderColor: pointBorderColor\n  }),\n      lineGenerator = _useLine.lineGenerator,\n      areaGenerator = _useLine.areaGenerator,\n      series = _useLine.series,\n      xScale = _useLine.xScale,\n      yScale = _useLine.yScale,\n      points = _useLine.points;\n\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: points,\n    width: innerWidth,\n    height: innerHeight,\n    debug: debugMesh\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n        ctx.lineWidth = theme.grid.line.strokeWidth;\n        ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n\n      if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: xScale,\n          yScale: yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      }\n\n      if (layer === 'areas' && enableArea === true) {\n        ctx.save();\n        ctx.globalAlpha = areaOpacity;\n        areaGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.fillStyle = serie.color;\n          ctx.beginPath();\n          areaGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n\n      if (layer === 'lines') {\n        lineGenerator.context(ctx);\n        series.forEach(function (serie) {\n          ctx.strokeStyle = serie.color;\n          ctx.lineWidth = lineWidth;\n          ctx.beginPath();\n          lineGenerator(serie.data.map(function (d) {\n            return d.position;\n          }));\n          ctx.stroke();\n        });\n      }\n\n      if (layer === 'points' && enablePoints === true && pointSize > 0) {\n        points.forEach(function (point) {\n          ctx.fillStyle = point.color;\n          ctx.beginPath();\n          ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI);\n          ctx.fill();\n\n          if (pointBorderWidth > 0) {\n            ctx.strokeStyle = point.borderColor;\n            ctx.lineWidth = pointBorderWidth;\n            ctx.stroke();\n          }\n        });\n      }\n\n      if (layer === 'mesh' && debugMesh === true) {\n        renderVoronoiToCanvas(ctx, voronoi);\n\n        if (currentPoint) {\n          renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index);\n        }\n      }\n\n      if (layer === 'legends') {\n        var legendData = series.map(function (serie) {\n          return {\n            id: serie.id,\n            label: serie.id,\n            color: serie.color\n          };\n        }).reverse();\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$3({}, legend, {\n            data: legend.data || legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, layers, theme, lineGenerator, series, xScale, yScale, enableGridX, gridXValues, enableGridY, gridYValues, axisTop, axisRight, axisBottom, axisLeft, legends, points, enablePoints, pointSize, currentPoint]);\n  var getPointFromMouseEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray$2(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\n    var pointIndex = delaunay.find(x - margin.left, y - margin.top);\n    return points[pointIndex];\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseHover = useCallback(function (event) {\n    var point = getPointFromMouseEvent(event);\n    setCurrentPoint(point);\n\n    if (point) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        point: point\n      }), event);\n    } else {\n      hideTooltip();\n    }\n  }, [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    setCurrentPoint(null);\n    currentPoint && onMouseLeave && onMouseLeave(currentPoint, event);\n  }, [hideTooltip, setCurrentPoint, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      var point = getPointFromMouseEvent(event);\n      point && onClick(point, event);\n    }\n  }, [getPointFromMouseEvent, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\n\nLineCanvas.propTypes = LineCanvasPropTypes;\nLineCanvas.defaultProps = LineCanvasDefaultProps;\nvar LineCanvas$1 = withContainer(LineCanvas);\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nvar ResponsiveLineCanvas = function ResponsiveLineCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(LineCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Line$1 as Line, LineCanvas$1 as LineCanvas, LineCanvasDefaultProps, LineCanvasPropTypes, LineDefaultProps, LinePropTypes, ResponsiveLine, ResponsiveLineCanvas, useAreaGenerator, useLine, useLineGenerator, useSlices };","map":{"version":3,"sources":["G:/Companies work/TCS/CCT/DynaChain/node_modules/@nivo/line/dist/nivo-line.esm.js"],"names":["React","memo","useMemo","useCallback","useState","Fragment","useRef","useEffect","lineCurvePropType","blendModePropType","motionPropTypes","defsPropTypes","curveFromProp","useValueFormatter","useTheme","useMotionConfig","SmartMotion","getLabelGenerator","DotsItem","withContainer","useDimensions","CartesianMarkers","bindDefs","SvgWrapper","ResponsiveWrapper","getRelativeCursor","isCursorInRect","ordinalColorsPropType","useOrdinalColorScale","useInheritedColor","axisPropType","Grid","Axes","renderGridLinesToCanvas","renderAxesToCanvas","LegendPropShape","BoxLegendSvg","renderLegendToCanvas","BasicTooltip","TableTooltip","crosshairPropTypes","useTooltip","Crosshair","line","area","scalePropType","computeXYScalesForSeries","PropTypes","TransitionMotion","spring","Mesh","Mesh$2","useVoronoiMesh","renderVoronoiToCanvas","renderVoronoiCellToCanvas","LinePointTooltip","_ref","point","createElement","id","data","xFormatted","yFormatted","enableChip","color","serieColor","propTypes","object","isRequired","PointTooltip","Chip","style","display","width","height","background","string","SliceTooltip","_ref2","slice","axis","otherAxis","rows","points","map","key","serieId","concat","oneOf","SliceTooltip$1","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","obj","value","defineProperty","configurable","writable","commonPropTypes","arrayOf","shape","oneOfType","number","x","instanceOf","Date","y","xScale","xFormat","func","yScale","yFormat","layers","curve","axisTop","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","gridXValues","gridYValues","enablePoints","pointSymbol","pointSize","pointColor","any","pointBorderWidth","pointBorderColor","markers","colors","enableArea","areaOpacity","areaBlendMode","areaBaselineValue","lineWidth","legends","isInteractive","debugMesh","tooltip","tooltipFormat","enableSlices","debugSlices","sliceTooltip","enableCrosshair","crosshairType","type","LinePropTypes","enablePointLabel","useMesh","LineCanvasPropTypes","pixelRatio","commonDefaultProps","min","max","from","theme","scheme","LineDefaultProps","animate","motionStiffness","motionDamping","defs","fill","LineCanvasDefaultProps","global","window","devicePixelRatio","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","Array","isArray","_objectSpread$1","_defineProperty$1","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","arr2","useLineGenerator","defined","d","useAreaGenerator","y1","y0","usePoints","_ref3","series","getPointColor","getPointBorderColor","formatX","formatY","reduce","acc","serie","datum","position","index","borderColor","useSlices","_ref4","Map","has","set","get","entries","sort","a","b","_ref5","slices","_ref6","slicePoints","prevSlice","nextSlice","x0","sliceWidth","reverse","_map","_ref7","_ref8","sliceHeight","useLine","_ref9","_ref9$xScale","xScaleSpec","_ref9$yScale","yScaleSpec","_ref9$colors","_ref9$curve","_ref9$areaBaselineVal","_ref9$pointColor","_ref9$pointBorderColo","_ref9$enableSlices","enableSlicesTooltip","getColor","_useMemo","rawSeries","lineGenerator","areaGenerator","Areas","lines","_useMotionConfig","springConfig","areaColor","fillOpacity","strokeWidth","mixBlendMode","Areas$1","LinesItem","thickness","stroke","LinesItem$1","Lines","Lines$1","SlicesItem","debug","isCurrent","setCurrent","_useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","handleMouseMove","handleMouseLeave","strokeOpacity","onMouseEnter","onMouseMove","onMouseLeave","SlicesItem$1","Slices","current","Slices$1","_extends","assign","hasOwnProperty","apply","Points","symbol","size","borderWidth","enableLabel","label","labelYOffset","getLabel","mappedPoints","mappedPoint","styles","interpolatedStyles","defaultProps","Points$1","margin","onClick","showTooltipAt","left","top","handleClick","nodes","Mesh$1","_objectSpread$2","_defineProperty$2","_extends$1","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","Line","props","partialMargin","pointLabel","pointLabelFormat","pointLabelYOffset","_useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useLine","_useState","_useState2","currentPoint","setCurrentPoint","_useState3","_useState4","currentSlice","setCurrentSlice","legendData","layerById","grid","xValues","yValues","axes","right","bottom","areas","crosshair","mesh","legend","containerWidth","containerHeight","boundDefs","labelFormat","layer","Line$1","_extends$2","ResponsiveLine","_objectSpread$3","_defineProperty$3","_slicedToArray$2","_arrayWithHoles$2","_iterableToArrayLimit$2","_nonIterableRest$2","LineCanvas","canvasEl","_useVoronoiMesh","delaunay","voronoi","ctx","getContext","scale","fillStyle","fillRect","translate","strokeStyle","values","save","globalAlpha","context","beginPath","restore","arc","Math","PI","getPointFromMouseEvent","_getRelativeCursor","_getRelativeCursor2","pointIndex","find","handleMouseHover","ref","cursor","LineCanvas$1","_extends$3","ResponsiveLineCanvas"],"mappings":"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","sourcesContent":["import React, { memo, useMemo, useCallback, useState, Fragment, useRef, useEffect } from 'react';\r\nimport { lineCurvePropType, blendModePropType, motionPropTypes, defsPropTypes, curveFromProp, useValueFormatter, useTheme, useMotionConfig, SmartMotion, getLabelGenerator, DotsItem, withContainer, useDimensions, CartesianMarkers, bindDefs, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\r\nimport { ordinalColorsPropType, useOrdinalColorScale, useInheritedColor } from '@nivo/colors';\r\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\r\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\r\nimport { BasicTooltip, TableTooltip, crosshairPropTypes, useTooltip, Crosshair } from '@nivo/tooltip';\r\nimport { line, area } from 'd3-shape';\r\nimport { scalePropType, computeXYScalesForSeries } from '@nivo/scales';\r\nimport PropTypes from 'prop-types';\r\nimport { TransitionMotion, spring } from 'react-motion';\r\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\r\n\r\nvar LinePointTooltip = function LinePointTooltip(_ref) {\r\n  var point = _ref.point;\r\n  return React.createElement(BasicTooltip, {\r\n    id: React.createElement(\"span\", null, \"x: \", React.createElement(\"strong\", null, point.data.xFormatted), \", y:\", ' ', React.createElement(\"strong\", null, point.data.yFormatted)),\r\n    enableChip: true,\r\n    color: point.serieColor\r\n  });\r\n};\r\nLinePointTooltip.propTypes = {\r\n  point: PropTypes.object.isRequired\r\n};\r\nvar PointTooltip = memo(LinePointTooltip);\r\n\r\nvar Chip = function Chip(_ref) {\r\n  var color = _ref.color;\r\n  return React.createElement(\"span\", {\r\n    style: {\r\n      display: 'block',\r\n      width: '12px',\r\n      height: '12px',\r\n      background: color\r\n    }\r\n  });\r\n};\r\nChip.propTypes = {\r\n  color: PropTypes.string.isRequired\r\n};\r\nvar SliceTooltip = function SliceTooltip(_ref2) {\r\n  var slice = _ref2.slice,\r\n      axis = _ref2.axis;\r\n  var otherAxis = axis === 'x' ? 'y' : 'x';\r\n  return React.createElement(TableTooltip, {\r\n    rows: slice.points.map(function (point) {\r\n      return [React.createElement(Chip, {\r\n        key: \"chip\",\r\n        color: point.serieColor\r\n      }), point.serieId, React.createElement(\"strong\", {\r\n        key: \"value\"\r\n      }, point.data[\"\".concat(otherAxis, \"Formatted\")])];\r\n    })\r\n  });\r\n};\r\nSliceTooltip.propTypes = {\r\n  slice: PropTypes.object.isRequired,\r\n  axis: PropTypes.oneOf(['x', 'y']).isRequired\r\n};\r\nvar SliceTooltip$1 = memo(SliceTooltip);\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nvar commonPropTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    data: PropTypes.arrayOf(PropTypes.shape({\r\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]),\r\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\r\n    })).isRequired\r\n  })).isRequired,\r\n  xScale: scalePropType.isRequired,\r\n  xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n  yScale: scalePropType.isRequired,\r\n  yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'slices', 'points', 'mesh', 'legends']), PropTypes.func])).isRequired,\r\n  curve: lineCurvePropType.isRequired,\r\n  axisTop: axisPropType,\r\n  axisRight: axisPropType,\r\n  axisBottom: axisPropType,\r\n  axisLeft: axisPropType,\r\n  enableGridX: PropTypes.bool.isRequired,\r\n  enableGridY: PropTypes.bool.isRequired,\r\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\r\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]))]),\r\n  enablePoints: PropTypes.bool.isRequired,\r\n  pointSymbol: PropTypes.func,\r\n  pointSize: PropTypes.number.isRequired,\r\n  pointColor: PropTypes.any.isRequired,\r\n  pointBorderWidth: PropTypes.number.isRequired,\r\n  pointBorderColor: PropTypes.any.isRequired,\r\n  markers: PropTypes.arrayOf(PropTypes.shape({\r\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\r\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\r\n    style: PropTypes.object\r\n  })),\r\n  colors: ordinalColorsPropType.isRequired,\r\n  enableArea: PropTypes.bool.isRequired,\r\n  areaOpacity: PropTypes.number.isRequired,\r\n  areaBlendMode: blendModePropType.isRequired,\r\n  areaBaselineValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\r\n  lineWidth: PropTypes.number.isRequired,\r\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\r\n  isInteractive: PropTypes.bool.isRequired,\r\n  debugMesh: PropTypes.bool.isRequired,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n  enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\r\n  debugSlices: PropTypes.bool.isRequired,\r\n  sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  enableCrosshair: PropTypes.bool.isRequired,\r\n  crosshairType: crosshairPropTypes.type.isRequired\r\n};\r\nvar LinePropTypes = _objectSpread({}, commonPropTypes, {\r\n  enablePointLabel: PropTypes.bool.isRequired,\r\n  useMesh: PropTypes.bool.isRequired\r\n}, motionPropTypes, defsPropTypes);\r\nvar LineCanvasPropTypes = _objectSpread({\r\n  pixelRatio: PropTypes.number.isRequired\r\n}, commonPropTypes);\r\nvar commonDefaultProps = {\r\n  curve: 'linear',\r\n  xScale: {\r\n    type: 'point'\r\n  },\r\n  yScale: {\r\n    type: 'linear',\r\n    min: 0,\r\n    max: 'auto'\r\n  },\r\n  layers: ['grid', 'markers', 'axes', 'areas', 'crosshair', 'lines', 'points', 'slices', 'mesh', 'legends'],\r\n  axisBottom: {},\r\n  axisLeft: {},\r\n  enableGridX: true,\r\n  enableGridY: true,\r\n  enablePoints: true,\r\n  pointSize: 6,\r\n  pointColor: {\r\n    from: 'color'\r\n  },\r\n  pointBorderWidth: 0,\r\n  pointBorderColor: {\r\n    theme: 'background'\r\n  },\r\n  colors: {\r\n    scheme: 'nivo'\r\n  },\r\n  enableArea: false,\r\n  areaBaselineValue: 0,\r\n  areaOpacity: 0.2,\r\n  areaBlendMode: 'normal',\r\n  lineWidth: 2,\r\n  legends: [],\r\n  isInteractive: true,\r\n  tooltip: PointTooltip,\r\n  enableSlices: false,\r\n  debugSlices: false,\r\n  sliceTooltip: SliceTooltip$1,\r\n  debugMesh: false,\r\n  enableCrosshair: true,\r\n  crosshairType: 'bottom-left'\r\n};\r\nvar LineDefaultProps = _objectSpread({}, commonDefaultProps, {\r\n  enablePointLabel: false,\r\n  useMesh: false,\r\n  animate: true,\r\n  motionStiffness: 90,\r\n  motionDamping: 15,\r\n  defs: [],\r\n  fill: []\r\n});\r\nvar LineCanvasDefaultProps = _objectSpread({}, commonDefaultProps, {\r\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\r\n});\r\n\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\r\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\r\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\r\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\r\nvar useLineGenerator = function useLineGenerator(_ref) {\r\n  var curve = _ref.curve;\r\n  return useMemo(function () {\r\n    return line().defined(function (d) {\r\n      return d.x !== null && d.y !== null;\r\n    }).x(function (d) {\r\n      return d.x;\r\n    }).y(function (d) {\r\n      return d.y;\r\n    }).curve(curveFromProp(curve));\r\n  }, [curve]);\r\n};\r\nvar useAreaGenerator = function useAreaGenerator(_ref2) {\r\n  var curve = _ref2.curve,\r\n      yScale = _ref2.yScale,\r\n      areaBaselineValue = _ref2.areaBaselineValue;\r\n  return useMemo(function () {\r\n    return area().defined(function (d) {\r\n      return d.x !== null && d.y !== null;\r\n    }).x(function (d) {\r\n      return d.x;\r\n    }).y1(function (d) {\r\n      return d.y;\r\n    }).curve(curveFromProp(curve)).y0(yScale(areaBaselineValue));\r\n  }, [curve, yScale, areaBaselineValue]);\r\n};\r\nvar usePoints = function usePoints(_ref3) {\r\n  var series = _ref3.series,\r\n      getPointColor = _ref3.getPointColor,\r\n      getPointBorderColor = _ref3.getPointBorderColor,\r\n      formatX = _ref3.formatX,\r\n      formatY = _ref3.formatY;\r\n  return useMemo(function () {\r\n    return series.reduce(function (acc, serie) {\r\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(serie.data.filter(function (datum) {\r\n        return datum.position.x !== null && datum.position.y !== null;\r\n      }).map(function (datum, i) {\r\n        var point = {\r\n          id: \"\".concat(serie.id, \".\").concat(i),\r\n          index: acc.length + i,\r\n          serieId: serie.id,\r\n          serieColor: serie.color,\r\n          x: datum.position.x,\r\n          y: datum.position.y\r\n        };\r\n        point.color = getPointColor(serie);\r\n        point.borderColor = getPointBorderColor(point);\r\n        point.data = _objectSpread$1({}, datum.data, {\r\n          xFormatted: formatX(datum.data.x),\r\n          yFormatted: formatY(datum.data.y)\r\n        });\r\n        return point;\r\n      })));\r\n    }, []);\r\n  }, [series, getPointColor, getPointBorderColor, formatX, formatY]);\r\n};\r\nvar useSlices = function useSlices(_ref4) {\r\n  var enableSlices = _ref4.enableSlices,\r\n      points = _ref4.points,\r\n      width = _ref4.width,\r\n      height = _ref4.height;\r\n  return useMemo(function () {\r\n    if (enableSlices === false) return [];\r\n    if (enableSlices === 'x') {\r\n      var map = new Map();\r\n      points.forEach(function (point) {\r\n        if (point.data.x === null || point.data.y === null) return;\r\n        if (!map.has(point.x)) map.set(point.x, [point]);else map.get(point.x).push(point);\r\n      });\r\n      return Array.from(map.entries()).sort(function (a, b) {\r\n        return a[0] - b[0];\r\n      }).map(function (_ref5, i, slices) {\r\n        var _ref6 = _slicedToArray(_ref5, 2),\r\n            x = _ref6[0],\r\n            slicePoints = _ref6[1];\r\n        var prevSlice = slices[i - 1];\r\n        var nextSlice = slices[i + 1];\r\n        var x0;\r\n        if (!prevSlice) x0 = x;else x0 = x - (x - prevSlice[0]) / 2;\r\n        var sliceWidth;\r\n        if (!nextSlice) sliceWidth = width - x0;else sliceWidth = x - x0 + (nextSlice[0] - x) / 2;\r\n        return {\r\n          id: x,\r\n          x0: x0,\r\n          x: x,\r\n          y0: 0,\r\n          y: 0,\r\n          width: sliceWidth,\r\n          height: height,\r\n          points: slicePoints.reverse()\r\n        };\r\n      });\r\n    } else if (enableSlices === 'y') {\r\n      var _map = new Map();\r\n      points.forEach(function (point) {\r\n        if (point.data.x === null || point.data.y === null) return;\r\n        if (!_map.has(point.y)) _map.set(point.y, [point]);else _map.get(point.y).push(point);\r\n      });\r\n      return Array.from(_map.entries()).sort(function (a, b) {\r\n        return a[0] - b[0];\r\n      }).map(function (_ref7, i, slices) {\r\n        var _ref8 = _slicedToArray(_ref7, 2),\r\n            y = _ref8[0],\r\n            slicePoints = _ref8[1];\r\n        var prevSlice = slices[i - 1];\r\n        var nextSlice = slices[i + 1];\r\n        var y0;\r\n        if (!prevSlice) y0 = y;else y0 = y - (y - prevSlice[0]) / 2;\r\n        var sliceHeight;\r\n        if (!nextSlice) sliceHeight = height - y0;else sliceHeight = y - y0 + (nextSlice[0] - y) / 2;\r\n        return {\r\n          id: y,\r\n          x0: 0,\r\n          x: 0,\r\n          y0: y0,\r\n          y: y,\r\n          width: width,\r\n          height: sliceHeight,\r\n          points: slicePoints.reverse()\r\n        };\r\n      });\r\n    }\r\n  }, [enableSlices, points]);\r\n};\r\nvar useLine = function useLine(_ref9) {\r\n  var data = _ref9.data,\r\n      _ref9$xScale = _ref9.xScale,\r\n      xScaleSpec = _ref9$xScale === void 0 ? LineDefaultProps.xScale : _ref9$xScale,\r\n      xFormat = _ref9.xFormat,\r\n      _ref9$yScale = _ref9.yScale,\r\n      yScaleSpec = _ref9$yScale === void 0 ? LineDefaultProps.yScale : _ref9$yScale,\r\n      yFormat = _ref9.yFormat,\r\n      width = _ref9.width,\r\n      height = _ref9.height,\r\n      _ref9$colors = _ref9.colors,\r\n      colors = _ref9$colors === void 0 ? LineDefaultProps.colors : _ref9$colors,\r\n      _ref9$curve = _ref9.curve,\r\n      curve = _ref9$curve === void 0 ? LineDefaultProps.curve : _ref9$curve,\r\n      _ref9$areaBaselineVal = _ref9.areaBaselineValue,\r\n      areaBaselineValue = _ref9$areaBaselineVal === void 0 ? LineDefaultProps.areaBaselineValue : _ref9$areaBaselineVal,\r\n      _ref9$pointColor = _ref9.pointColor,\r\n      pointColor = _ref9$pointColor === void 0 ? LineDefaultProps.pointColor : _ref9$pointColor,\r\n      _ref9$pointBorderColo = _ref9.pointBorderColor,\r\n      pointBorderColor = _ref9$pointBorderColo === void 0 ? LineDefaultProps.pointBorderColor : _ref9$pointBorderColo,\r\n      _ref9$enableSlices = _ref9.enableSlices,\r\n      enableSlices = _ref9$enableSlices === void 0 ? LineDefaultProps.enableSlicesTooltip : _ref9$enableSlices;\r\n  var formatX = useValueFormatter(xFormat);\r\n  var formatY = useValueFormatter(yFormat);\r\n  var getColor = useOrdinalColorScale(colors, 'id');\r\n  var theme = useTheme();\r\n  var getPointColor = useInheritedColor(pointColor, theme);\r\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\r\n  var _useMemo = useMemo(function () {\r\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\r\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\r\n      xScale = _useMemo.xScale,\r\n      yScale = _useMemo.yScale,\r\n      rawSeries = _useMemo.series;\r\n  var series = useMemo(function () {\r\n    return rawSeries.map(function (serie) {\r\n      return _objectSpread$1({}, serie, {\r\n        color: getColor(serie)\r\n      });\r\n    });\r\n  }, [rawSeries, getColor]);\r\n  var points = usePoints({\r\n    series: series,\r\n    getPointColor: getPointColor,\r\n    getPointBorderColor: getPointBorderColor,\r\n    formatX: formatX,\r\n    formatY: formatY\r\n  });\r\n  var slices = useSlices({\r\n    enableSlices: enableSlices,\r\n    points: points,\r\n    width: width,\r\n    height: height\r\n  });\r\n  var lineGenerator = useLineGenerator({\r\n    curve: curve\r\n  });\r\n  var areaGenerator = useAreaGenerator({\r\n    curve: curve,\r\n    yScale: yScale,\r\n    areaBaselineValue: areaBaselineValue\r\n  });\r\n  return {\r\n    lineGenerator: lineGenerator,\r\n    areaGenerator: areaGenerator,\r\n    getColor: getColor,\r\n    series: series,\r\n    xScale: xScale,\r\n    yScale: yScale,\r\n    slices: slices,\r\n    points: points\r\n  };\r\n};\r\n\r\nvar Areas = function Areas(_ref) {\r\n  var areaGenerator = _ref.areaGenerator,\r\n      areaOpacity = _ref.areaOpacity,\r\n      areaBlendMode = _ref.areaBlendMode,\r\n      lines = _ref.lines;\r\n  var _useMotionConfig = useMotionConfig(),\r\n      animate = _useMotionConfig.animate,\r\n      springConfig = _useMotionConfig.springConfig;\r\n  if (animate !== true) {\r\n    return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref2) {\r\n      var id = _ref2.id,\r\n          data = _ref2.data,\r\n          areaColor = _ref2.color,\r\n          fill = _ref2.fill;\r\n      return React.createElement(\"path\", {\r\n        key: id,\r\n        d: areaGenerator(data.map(function (d) {\r\n          return d.position;\r\n        })),\r\n        fill: fill ? fill : areaColor,\r\n        fillOpacity: areaOpacity,\r\n        strokeWidth: 0,\r\n        style: {\r\n          mixBlendMode: areaBlendMode\r\n        }\r\n      });\r\n    }));\r\n  }\r\n  return React.createElement(\"g\", null, lines.slice(0).reverse().map(function (_ref3) {\r\n    var id = _ref3.id,\r\n        data = _ref3.data,\r\n        areaColor = _ref3.color,\r\n        fill = _ref3.fill;\r\n    return React.createElement(SmartMotion, {\r\n      key: id,\r\n      style: function style(spring) {\r\n        return {\r\n          d: spring(areaGenerator(data.map(function (d) {\r\n            return d.position;\r\n          })), springConfig),\r\n          fill: spring(areaColor, springConfig)\r\n        };\r\n      }\r\n    }, function (style) {\r\n      return React.createElement(\"path\", {\r\n        key: id,\r\n        d: style.d,\r\n        fill: fill ? fill : areaColor,\r\n        fillOpacity: areaOpacity,\r\n        strokeWidth: 0,\r\n        style: {\r\n          mixBlendMode: areaBlendMode\r\n        }\r\n      });\r\n    });\r\n  }));\r\n};\r\nAreas.propTypes = {\r\n  areaGenerator: PropTypes.func.isRequired,\r\n  areaOpacity: PropTypes.number.isRequired,\r\n  areaBlendMode: blendModePropType.isRequired,\r\n  lines: PropTypes.arrayOf(PropTypes.object).isRequired\r\n};\r\nvar Areas$1 = memo(Areas);\r\n\r\nvar LinesItem = function LinesItem(_ref) {\r\n  var lineGenerator = _ref.lineGenerator,\r\n      id = _ref.id,\r\n      points = _ref.points,\r\n      color = _ref.color,\r\n      thickness = _ref.thickness;\r\n  var _useMotionConfig = useMotionConfig(),\r\n      animate = _useMotionConfig.animate,\r\n      springConfig = _useMotionConfig.springConfig;\r\n  if (animate !== true) {\r\n    return React.createElement(\"path\", {\r\n      key: id,\r\n      d: lineGenerator(points),\r\n      fill: \"none\",\r\n      strokeWidth: thickness,\r\n      stroke: color\r\n    });\r\n  }\r\n  return React.createElement(SmartMotion, {\r\n    key: id,\r\n    style: function style(spring) {\r\n      return {\r\n        d: spring(lineGenerator(points), springConfig),\r\n        stroke: spring(color, springConfig)\r\n      };\r\n    }\r\n  }, function (style) {\r\n    return React.createElement(\"path\", {\r\n      key: id,\r\n      d: style.d,\r\n      fill: \"none\",\r\n      strokeWidth: thickness,\r\n      stroke: style.stroke\r\n    });\r\n  });\r\n};\r\nLinesItem.propTypes = {\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  points: PropTypes.arrayOf(PropTypes.shape({\r\n    x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    y: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n  })),\r\n  lineGenerator: PropTypes.func.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  thickness: PropTypes.number.isRequired\r\n};\r\nvar LinesItem$1 = memo(LinesItem);\r\n\r\nvar Lines = function Lines(_ref) {\r\n  var lines = _ref.lines,\r\n      lineGenerator = _ref.lineGenerator,\r\n      lineWidth = _ref.lineWidth;\r\n  return lines.map(function (_ref2) {\r\n    var id = _ref2.id,\r\n        data = _ref2.data,\r\n        color = _ref2.color;\r\n    return React.createElement(LinesItem$1, {\r\n      key: id,\r\n      id: id,\r\n      points: data.map(function (d) {\r\n        return d.position;\r\n      }),\r\n      lineGenerator: lineGenerator,\r\n      color: color,\r\n      thickness: lineWidth\r\n    });\r\n  });\r\n};\r\nLines.propTypes = {\r\n  lines: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    color: PropTypes.string.isRequired,\r\n    data: PropTypes.arrayOf(PropTypes.shape({\r\n      data: PropTypes.shape({\r\n        x: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\r\n        y: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\r\n      }).isRequired,\r\n      position: PropTypes.shape({\r\n        x: PropTypes.number,\r\n        y: PropTypes.number\r\n      }).isRequired\r\n    })).isRequired\r\n  })).isRequired,\r\n  lineWidth: PropTypes.number.isRequired,\r\n  lineGenerator: PropTypes.func.isRequired\r\n};\r\nvar Lines$1 = memo(Lines);\r\n\r\nvar SlicesItem = function SlicesItem(_ref) {\r\n  var slice = _ref.slice,\r\n      axis = _ref.axis,\r\n      debug = _ref.debug,\r\n      tooltip = _ref.tooltip,\r\n      isCurrent = _ref.isCurrent,\r\n      setCurrent = _ref.setCurrent;\r\n  var _useTooltip = useTooltip(),\r\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\r\n      hideTooltip = _useTooltip.hideTooltip;\r\n  var handleMouseEnter = useCallback(function (event) {\r\n    showTooltipFromEvent(React.createElement(tooltip, {\r\n      slice: slice,\r\n      axis: axis\r\n    }), event, 'right');\r\n    setCurrent(slice);\r\n  }, [showTooltipFromEvent, tooltip, slice]);\r\n  var handleMouseMove = useCallback(function (event) {\r\n    showTooltipFromEvent(React.createElement(tooltip, {\r\n      slice: slice,\r\n      axis: axis\r\n    }), event, 'right');\r\n  }, [showTooltipFromEvent, tooltip, slice]);\r\n  var handleMouseLeave = useCallback(function () {\r\n    hideTooltip();\r\n    setCurrent(null);\r\n  }, [hideTooltip]);\r\n  return React.createElement(\"rect\", {\r\n    x: slice.x0,\r\n    y: slice.y0,\r\n    width: slice.width,\r\n    height: slice.height,\r\n    stroke: \"red\",\r\n    strokeWidth: debug ? 1 : 0,\r\n    strokeOpacity: 0.75,\r\n    fill: \"red\",\r\n    fillOpacity: isCurrent && debug ? 0.35 : 0,\r\n    onMouseEnter: handleMouseEnter,\r\n    onMouseMove: handleMouseMove,\r\n    onMouseLeave: handleMouseLeave\r\n  });\r\n};\r\nSlicesItem.propTypes = {\r\n  slice: PropTypes.object.isRequired,\r\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\r\n  debug: PropTypes.bool.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  isCurrent: PropTypes.bool.isRequired,\r\n  setCurrent: PropTypes.func.isRequired\r\n};\r\nvar SlicesItem$1 = memo(SlicesItem);\r\n\r\nvar Slices = function Slices(_ref) {\r\n  var slices = _ref.slices,\r\n      axis = _ref.axis,\r\n      debug = _ref.debug,\r\n      height = _ref.height,\r\n      tooltip = _ref.tooltip,\r\n      current = _ref.current,\r\n      setCurrent = _ref.setCurrent;\r\n  return slices.map(function (slice) {\r\n    return React.createElement(SlicesItem$1, {\r\n      key: slice.id,\r\n      slice: slice,\r\n      axis: axis,\r\n      debug: debug,\r\n      height: height,\r\n      tooltip: tooltip,\r\n      setCurrent: setCurrent,\r\n      isCurrent: current !== null && current.id === slice.id\r\n    });\r\n  });\r\n};\r\nSlices.propTypes = {\r\n  slices: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    points: PropTypes.arrayOf(PropTypes.object).isRequired\r\n  })).isRequired,\r\n  axis: PropTypes.oneOf(['x', 'y']).isRequired,\r\n  debug: PropTypes.bool.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  current: PropTypes.object,\r\n  setCurrent: PropTypes.func.isRequired\r\n};\r\nvar Slices$1 = memo(Slices);\r\n\r\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\nvar Points = function Points(_ref) {\r\n  var points = _ref.points,\r\n      symbol = _ref.symbol,\r\n      size = _ref.size,\r\n      borderWidth = _ref.borderWidth,\r\n      enableLabel = _ref.enableLabel,\r\n      label = _ref.label,\r\n      labelYOffset = _ref.labelYOffset;\r\n  var theme = useTheme();\r\n  var _useMotionConfig = useMotionConfig(),\r\n      animate = _useMotionConfig.animate,\r\n      springConfig = _useMotionConfig.springConfig;\r\n  var getLabel = getLabelGenerator(label);\r\n  var mappedPoints = points.map(function (point) {\r\n    var mappedPoint = {\r\n      id: point.id,\r\n      x: point.x,\r\n      y: point.y,\r\n      datum: point.data,\r\n      fill: point.color,\r\n      stroke: point.borderColor,\r\n      label: enableLabel ? getLabel(point.data) : null\r\n    };\r\n    return mappedPoint;\r\n  });\r\n  if (animate !== true) {\r\n    return React.createElement(\"g\", null, mappedPoints.map(function (point) {\r\n      return React.createElement(DotsItem, {\r\n        key: point.id,\r\n        x: point.x,\r\n        y: point.y,\r\n        datum: point.datum,\r\n        symbol: symbol,\r\n        size: size,\r\n        color: point.fill,\r\n        borderWidth: borderWidth,\r\n        borderColor: point.stroke,\r\n        label: point.label,\r\n        labelYOffset: labelYOffset,\r\n        theme: theme\r\n      });\r\n    }));\r\n  }\r\n  return React.createElement(TransitionMotion, {\r\n    styles: mappedPoints.map(function (point) {\r\n      return {\r\n        key: point.id,\r\n        data: point,\r\n        style: {\r\n          x: spring(point.x, springConfig),\r\n          y: spring(point.y, springConfig),\r\n          size: spring(size, springConfig)\r\n        }\r\n      };\r\n    })\r\n  }, function (interpolatedStyles) {\r\n    return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref2) {\r\n      var key = _ref2.key,\r\n          style = _ref2.style,\r\n          point = _ref2.data;\r\n      return React.createElement(DotsItem, _extends({\r\n        key: key\r\n      }, style, {\r\n        symbol: symbol,\r\n        datum: point.datum,\r\n        color: point.fill,\r\n        borderWidth: borderWidth,\r\n        borderColor: point.stroke,\r\n        label: point.label,\r\n        labelYOffset: labelYOffset,\r\n        theme: theme\r\n      }));\r\n    }));\r\n  });\r\n};\r\nPoints.propTypes = {\r\n  points: PropTypes.arrayOf(PropTypes.object),\r\n  symbol: PropTypes.func,\r\n  size: PropTypes.number.isRequired,\r\n  color: PropTypes.func.isRequired,\r\n  borderWidth: PropTypes.number.isRequired,\r\n  borderColor: PropTypes.func.isRequired,\r\n  enableLabel: PropTypes.bool.isRequired,\r\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\r\n  labelYOffset: PropTypes.number\r\n};\r\nPoints.defaultProps = {\r\n  enableLabel: false,\r\n  label: 'yFormatted'\r\n};\r\nvar Points$1 = memo(Points);\r\n\r\nvar Mesh = function Mesh(_ref) {\r\n  var points = _ref.points,\r\n      width = _ref.width,\r\n      height = _ref.height,\r\n      margin = _ref.margin,\r\n      setCurrent = _ref.setCurrent,\r\n      onMouseEnter = _ref.onMouseEnter,\r\n      onMouseMove = _ref.onMouseMove,\r\n      onMouseLeave = _ref.onMouseLeave,\r\n      onClick = _ref.onClick,\r\n      tooltip = _ref.tooltip,\r\n      debug = _ref.debug;\r\n  var _useTooltip = useTooltip(),\r\n      showTooltipAt = _useTooltip.showTooltipAt,\r\n      hideTooltip = _useTooltip.hideTooltip;\r\n  var handleMouseEnter = useCallback(function (point, event) {\r\n    showTooltipAt(React.createElement(tooltip, {\r\n      point: point\r\n    }), [point.x + margin.left, point.y + margin.top], 'top');\r\n    setCurrent(point);\r\n    onMouseEnter && onMouseEnter(point, event);\r\n  }, [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]);\r\n  var handleMouseMove = useCallback(function (point, event) {\r\n    showTooltipAt(React.createElement(tooltip, {\r\n      point: point\r\n    }), [point.x + margin.left, point.y + margin.top], 'top');\r\n    setCurrent(point);\r\n    onMouseMove && onMouseMove(point, event);\r\n  }, [setCurrent, showTooltipAt, tooltip, onMouseMove]);\r\n  var handleMouseLeave = useCallback(function (point, event) {\r\n    hideTooltip();\r\n    setCurrent(null);\r\n    onMouseLeave && onMouseLeave(point, event);\r\n  }, [hideTooltip, setCurrent, onMouseLeave]);\r\n  var handleClick = useCallback(function (point, event) {\r\n    onClick && onClick(point, event);\r\n  }, [onClick]);\r\n  return React.createElement(Mesh$2, {\r\n    nodes: points,\r\n    width: width,\r\n    height: height,\r\n    onMouseEnter: handleMouseEnter,\r\n    onMouseMove: handleMouseMove,\r\n    onMouseLeave: handleMouseLeave,\r\n    onClick: handleClick,\r\n    debug: debug\r\n  });\r\n};\r\nMesh.propTypes = {\r\n  points: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  margin: PropTypes.object.isRequired,\r\n  setCurrent: PropTypes.func.isRequired,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onMouseLeave: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  debug: PropTypes.bool.isRequired\r\n};\r\nvar Mesh$1 = memo(Mesh);\r\n\r\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\r\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\r\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\r\nfunction _iterableToArrayLimit$1(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\r\nvar Line = function Line(props) {\r\n  var data = props.data,\r\n      xScaleSpec = props.xScale,\r\n      xFormat = props.xFormat,\r\n      yScaleSpec = props.yScale,\r\n      yFormat = props.yFormat,\r\n      layers = props.layers,\r\n      curve = props.curve,\r\n      areaBaselineValue = props.areaBaselineValue,\r\n      colors = props.colors,\r\n      partialMargin = props.margin,\r\n      width = props.width,\r\n      height = props.height,\r\n      axisTop = props.axisTop,\r\n      axisRight = props.axisRight,\r\n      axisBottom = props.axisBottom,\r\n      axisLeft = props.axisLeft,\r\n      enableGridX = props.enableGridX,\r\n      enableGridY = props.enableGridY,\r\n      gridXValues = props.gridXValues,\r\n      gridYValues = props.gridYValues,\r\n      lineWidth = props.lineWidth,\r\n      enableArea = props.enableArea,\r\n      areaOpacity = props.areaOpacity,\r\n      areaBlendMode = props.areaBlendMode,\r\n      enablePoints = props.enablePoints,\r\n      pointSymbol = props.pointSymbol,\r\n      pointSize = props.pointSize,\r\n      pointColor = props.pointColor,\r\n      pointBorderWidth = props.pointBorderWidth,\r\n      pointBorderColor = props.pointBorderColor,\r\n      enablePointLabel = props.enablePointLabel,\r\n      pointLabel = props.pointLabel,\r\n      pointLabelFormat = props.pointLabelFormat,\r\n      pointLabelYOffset = props.pointLabelYOffset,\r\n      defs = props.defs,\r\n      fill = props.fill,\r\n      markers = props.markers,\r\n      legends = props.legends,\r\n      isInteractive = props.isInteractive,\r\n      useMesh = props.useMesh,\r\n      debugMesh = props.debugMesh,\r\n      onMouseEnter = props.onMouseEnter,\r\n      onMouseMove = props.onMouseMove,\r\n      onMouseLeave = props.onMouseLeave,\r\n      onClick = props.onClick,\r\n      tooltip = props.tooltip,\r\n      enableSlices = props.enableSlices,\r\n      debugSlices = props.debugSlices,\r\n      sliceTooltip = props.sliceTooltip,\r\n      enableCrosshair = props.enableCrosshair,\r\n      crosshairType = props.crosshairType;\r\n  var _useDimensions = useDimensions(width, height, partialMargin),\r\n      margin = _useDimensions.margin,\r\n      innerWidth = _useDimensions.innerWidth,\r\n      innerHeight = _useDimensions.innerHeight,\r\n      outerWidth = _useDimensions.outerWidth,\r\n      outerHeight = _useDimensions.outerHeight;\r\n  var _useLine = useLine({\r\n    data: data,\r\n    xScale: xScaleSpec,\r\n    xFormat: xFormat,\r\n    yScale: yScaleSpec,\r\n    yFormat: yFormat,\r\n    width: innerWidth,\r\n    height: innerHeight,\r\n    colors: colors,\r\n    curve: curve,\r\n    areaBaselineValue: areaBaselineValue,\r\n    pointColor: pointColor,\r\n    pointBorderColor: pointBorderColor,\r\n    enableSlices: enableSlices\r\n  }),\r\n      lineGenerator = _useLine.lineGenerator,\r\n      areaGenerator = _useLine.areaGenerator,\r\n      series = _useLine.series,\r\n      xScale = _useLine.xScale,\r\n      yScale = _useLine.yScale,\r\n      slices = _useLine.slices,\r\n      points = _useLine.points;\r\n  var theme = useTheme();\r\n  var getPointColor = useInheritedColor(pointColor, theme);\r\n  var getPointBorderColor = useInheritedColor(pointBorderColor, theme);\r\n  var _useState = useState(null),\r\n      _useState2 = _slicedToArray$1(_useState, 2),\r\n      currentPoint = _useState2[0],\r\n      setCurrentPoint = _useState2[1];\r\n  var _useState3 = useState(null),\r\n      _useState4 = _slicedToArray$1(_useState3, 2),\r\n      currentSlice = _useState4[0],\r\n      setCurrentSlice = _useState4[1];\r\n  var legendData = useMemo(function () {\r\n    return series.map(function (line) {\r\n      return {\r\n        id: line.id,\r\n        label: line.id,\r\n        color: line.color\r\n      };\r\n    }).reverse();\r\n  }, [series]);\r\n  var layerById = {\r\n    grid: React.createElement(Grid, {\r\n      key: \"grid\",\r\n      theme: theme,\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      xScale: enableGridX ? xScale : null,\r\n      yScale: enableGridY ? yScale : null,\r\n      xValues: gridXValues,\r\n      yValues: gridYValues\r\n    }),\r\n    markers: React.createElement(CartesianMarkers, {\r\n      key: \"markers\",\r\n      markers: markers,\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      xScale: xScale,\r\n      yScale: yScale,\r\n      theme: theme\r\n    }),\r\n    axes: React.createElement(Axes, {\r\n      key: \"axes\",\r\n      xScale: xScale,\r\n      yScale: yScale,\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      theme: theme,\r\n      top: axisTop,\r\n      right: axisRight,\r\n      bottom: axisBottom,\r\n      left: axisLeft\r\n    }),\r\n    areas: null,\r\n    lines: React.createElement(Lines$1, {\r\n      key: \"lines\",\r\n      lines: series,\r\n      lineGenerator: lineGenerator,\r\n      lineWidth: lineWidth\r\n    }),\r\n    slices: null,\r\n    points: null,\r\n    crosshair: null,\r\n    mesh: null,\r\n    legends: legends.map(function (legend, i) {\r\n      return React.createElement(BoxLegendSvg, _extends$1({\r\n        key: \"legend.\".concat(i)\r\n      }, legend, {\r\n        containerWidth: innerWidth,\r\n        containerHeight: innerHeight,\r\n        data: legend.data || legendData,\r\n        theme: theme\r\n      }));\r\n    })\r\n  };\r\n  var boundDefs = bindDefs(defs, series, fill);\r\n  if (enableArea) {\r\n    layerById.areas = React.createElement(Areas$1, {\r\n      key: \"areas\",\r\n      areaGenerator: areaGenerator,\r\n      areaOpacity: areaOpacity,\r\n      areaBlendMode: areaBlendMode,\r\n      lines: series\r\n    });\r\n  }\r\n  if (isInteractive && enableSlices !== false) {\r\n    layerById.slices = React.createElement(Slices$1, {\r\n      key: \"slices\",\r\n      slices: slices,\r\n      axis: enableSlices,\r\n      debug: debugSlices,\r\n      height: innerHeight,\r\n      tooltip: sliceTooltip,\r\n      current: currentSlice,\r\n      setCurrent: setCurrentSlice\r\n    });\r\n  }\r\n  if (enablePoints) {\r\n    layerById.points = React.createElement(Points$1, {\r\n      key: \"points\",\r\n      points: points,\r\n      symbol: pointSymbol,\r\n      size: pointSize,\r\n      color: getPointColor,\r\n      borderWidth: pointBorderWidth,\r\n      borderColor: getPointBorderColor,\r\n      enableLabel: enablePointLabel,\r\n      label: pointLabel,\r\n      labelFormat: pointLabelFormat,\r\n      labelYOffset: pointLabelYOffset\r\n    });\r\n  }\r\n  if (isInteractive && enableCrosshair) {\r\n    if (currentPoint !== null) {\r\n      layerById.crosshair = React.createElement(Crosshair, {\r\n        key: \"crosshair\",\r\n        width: innerWidth,\r\n        height: innerHeight,\r\n        x: currentPoint.x,\r\n        y: currentPoint.y,\r\n        type: crosshairType\r\n      });\r\n    }\r\n    if (currentSlice !== null) {\r\n      layerById.crosshair = React.createElement(Crosshair, {\r\n        key: \"crosshair\",\r\n        width: innerWidth,\r\n        height: innerHeight,\r\n        x: currentSlice.x,\r\n        y: currentSlice.y,\r\n        type: enableSlices\r\n      });\r\n    }\r\n  }\r\n  if (isInteractive && useMesh && enableSlices === false) {\r\n    layerById.mesh = React.createElement(Mesh$1, {\r\n      key: \"mesh\",\r\n      points: points,\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      margin: margin,\r\n      current: currentPoint,\r\n      setCurrent: setCurrentPoint,\r\n      onMouseEnter: onMouseEnter,\r\n      onMouseMove: onMouseMove,\r\n      onMouseLeave: onMouseLeave,\r\n      onClick: onClick,\r\n      tooltip: tooltip,\r\n      debug: debugMesh\r\n    });\r\n  }\r\n  return React.createElement(SvgWrapper, {\r\n    defs: boundDefs,\r\n    width: outerWidth,\r\n    height: outerHeight,\r\n    margin: margin\r\n  }, layers.map(function (layer, i) {\r\n    if (typeof layer === 'function') {\r\n      return React.createElement(Fragment, {\r\n        key: i\r\n      }, layer(_objectSpread$2({}, props, {\r\n        innerWidth: innerWidth,\r\n        innerHeight: innerHeight,\r\n        series: series,\r\n        slices: slices,\r\n        points: points,\r\n        xScale: xScale,\r\n        yScale: yScale,\r\n        lineGenerator: lineGenerator,\r\n        areaGenerator: areaGenerator,\r\n        currentPoint: currentPoint,\r\n        setCurrentPoint: setCurrentPoint,\r\n        currentSlice: currentSlice,\r\n        setCurrentSlice: setCurrentSlice\r\n      })));\r\n    }\r\n    return layerById[layer];\r\n  }));\r\n};\r\nLine.propTypes = LinePropTypes;\r\nLine.defaultProps = LineDefaultProps;\r\nvar Line$1 = withContainer(Line);\r\n\r\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\r\nvar ResponsiveLine = function ResponsiveLine(props) {\r\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\r\n    var width = _ref.width,\r\n        height = _ref.height;\r\n    return React.createElement(Line$1, _extends$2({\r\n      width: width,\r\n      height: height\r\n    }, props));\r\n  });\r\n};\r\n\r\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nfunction _slicedToArray$2(arr, i) { return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _nonIterableRest$2(); }\r\nfunction _nonIterableRest$2() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\r\nfunction _iterableToArrayLimit$2(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\nfunction _arrayWithHoles$2(arr) { if (Array.isArray(arr)) return arr; }\r\nvar LineCanvas = function LineCanvas(_ref) {\r\n  var width = _ref.width,\r\n      height = _ref.height,\r\n      partialMargin = _ref.margin,\r\n      pixelRatio = _ref.pixelRatio,\r\n      data = _ref.data,\r\n      xScaleSpec = _ref.xScale,\r\n      xFormat = _ref.xFormat,\r\n      yScaleSpec = _ref.yScale,\r\n      yFormat = _ref.yFormat,\r\n      curve = _ref.curve,\r\n      layers = _ref.layers,\r\n      colors = _ref.colors,\r\n      lineWidth = _ref.lineWidth,\r\n      enableArea = _ref.enableArea,\r\n      areaBaselineValue = _ref.areaBaselineValue,\r\n      areaOpacity = _ref.areaOpacity,\r\n      enablePoints = _ref.enablePoints,\r\n      pointSize = _ref.pointSize,\r\n      pointColor = _ref.pointColor,\r\n      pointBorderWidth = _ref.pointBorderWidth,\r\n      pointBorderColor = _ref.pointBorderColor,\r\n      enableGridX = _ref.enableGridX,\r\n      gridXValues = _ref.gridXValues,\r\n      enableGridY = _ref.enableGridY,\r\n      gridYValues = _ref.gridYValues,\r\n      axisTop = _ref.axisTop,\r\n      axisRight = _ref.axisRight,\r\n      axisBottom = _ref.axisBottom,\r\n      axisLeft = _ref.axisLeft,\r\n      legends = _ref.legends,\r\n      isInteractive = _ref.isInteractive,\r\n      debugMesh = _ref.debugMesh,\r\n      onMouseLeave = _ref.onMouseLeave,\r\n      onClick = _ref.onClick,\r\n      tooltip = _ref.tooltip;\r\n  var canvasEl = useRef(null);\r\n  var _useDimensions = useDimensions(width, height, partialMargin),\r\n      margin = _useDimensions.margin,\r\n      innerWidth = _useDimensions.innerWidth,\r\n      innerHeight = _useDimensions.innerHeight,\r\n      outerWidth = _useDimensions.outerWidth,\r\n      outerHeight = _useDimensions.outerHeight;\r\n  var theme = useTheme();\r\n  var _useState = useState(null),\r\n      _useState2 = _slicedToArray$2(_useState, 2),\r\n      currentPoint = _useState2[0],\r\n      setCurrentPoint = _useState2[1];\r\n  var _useLine = useLine({\r\n    data: data,\r\n    xScale: xScaleSpec,\r\n    xFormat: xFormat,\r\n    yScale: yScaleSpec,\r\n    yFormat: yFormat,\r\n    width: innerWidth,\r\n    height: innerHeight,\r\n    colors: colors,\r\n    curve: curve,\r\n    areaBaselineValue: areaBaselineValue,\r\n    pointColor: pointColor,\r\n    pointBorderColor: pointBorderColor\r\n  }),\r\n      lineGenerator = _useLine.lineGenerator,\r\n      areaGenerator = _useLine.areaGenerator,\r\n      series = _useLine.series,\r\n      xScale = _useLine.xScale,\r\n      yScale = _useLine.yScale,\r\n      points = _useLine.points;\r\n  var _useVoronoiMesh = useVoronoiMesh({\r\n    points: points,\r\n    width: innerWidth,\r\n    height: innerHeight,\r\n    debug: debugMesh\r\n  }),\r\n      delaunay = _useVoronoiMesh.delaunay,\r\n      voronoi = _useVoronoiMesh.voronoi;\r\n  useEffect(function () {\r\n    canvasEl.current.width = outerWidth * pixelRatio;\r\n    canvasEl.current.height = outerHeight * pixelRatio;\r\n    var ctx = canvasEl.current.getContext('2d');\r\n    ctx.scale(pixelRatio, pixelRatio);\r\n    ctx.fillStyle = theme.background;\r\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\r\n    ctx.translate(margin.left, margin.top);\r\n    layers.forEach(function (layer) {\r\n      if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\r\n        ctx.lineWidth = theme.grid.line.strokeWidth;\r\n        ctx.strokeStyle = theme.grid.line.stroke;\r\n        enableGridX && renderGridLinesToCanvas(ctx, {\r\n          width: innerWidth,\r\n          height: innerHeight,\r\n          scale: xScale,\r\n          axis: 'x',\r\n          values: gridXValues\r\n        });\r\n        enableGridY && renderGridLinesToCanvas(ctx, {\r\n          width: innerWidth,\r\n          height: innerHeight,\r\n          scale: yScale,\r\n          axis: 'y',\r\n          values: gridYValues\r\n        });\r\n      }\r\n      if (layer === 'axes') {\r\n        renderAxesToCanvas(ctx, {\r\n          xScale: xScale,\r\n          yScale: yScale,\r\n          width: innerWidth,\r\n          height: innerHeight,\r\n          top: axisTop,\r\n          right: axisRight,\r\n          bottom: axisBottom,\r\n          left: axisLeft,\r\n          theme: theme\r\n        });\r\n      }\r\n      if (layer === 'areas' && enableArea === true) {\r\n        ctx.save();\r\n        ctx.globalAlpha = areaOpacity;\r\n        areaGenerator.context(ctx);\r\n        series.forEach(function (serie) {\r\n          ctx.fillStyle = serie.color;\r\n          ctx.beginPath();\r\n          areaGenerator(serie.data.map(function (d) {\r\n            return d.position;\r\n          }));\r\n          ctx.fill();\r\n        });\r\n        ctx.restore();\r\n      }\r\n      if (layer === 'lines') {\r\n        lineGenerator.context(ctx);\r\n        series.forEach(function (serie) {\r\n          ctx.strokeStyle = serie.color;\r\n          ctx.lineWidth = lineWidth;\r\n          ctx.beginPath();\r\n          lineGenerator(serie.data.map(function (d) {\r\n            return d.position;\r\n          }));\r\n          ctx.stroke();\r\n        });\r\n      }\r\n      if (layer === 'points' && enablePoints === true && pointSize > 0) {\r\n        points.forEach(function (point) {\r\n          ctx.fillStyle = point.color;\r\n          ctx.beginPath();\r\n          ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI);\r\n          ctx.fill();\r\n          if (pointBorderWidth > 0) {\r\n            ctx.strokeStyle = point.borderColor;\r\n            ctx.lineWidth = pointBorderWidth;\r\n            ctx.stroke();\r\n          }\r\n        });\r\n      }\r\n      if (layer === 'mesh' && debugMesh === true) {\r\n        renderVoronoiToCanvas(ctx, voronoi);\r\n        if (currentPoint) {\r\n          renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index);\r\n        }\r\n      }\r\n      if (layer === 'legends') {\r\n        var legendData = series.map(function (serie) {\r\n          return {\r\n            id: serie.id,\r\n            label: serie.id,\r\n            color: serie.color\r\n          };\r\n        }).reverse();\r\n        legends.forEach(function (legend) {\r\n          renderLegendToCanvas(ctx, _objectSpread$3({}, legend, {\r\n            data: legend.data || legendData,\r\n            containerWidth: innerWidth,\r\n            containerHeight: innerHeight,\r\n            theme: theme\r\n          }));\r\n        });\r\n      }\r\n    });\r\n  }, [canvasEl, outerWidth, outerHeight, layers, theme, lineGenerator, series, xScale, yScale, enableGridX, gridXValues, enableGridY, gridYValues, axisTop, axisRight, axisBottom, axisLeft, legends, points, enablePoints, pointSize, currentPoint]);\r\n  var getPointFromMouseEvent = useCallback(function (event) {\r\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\r\n        _getRelativeCursor2 = _slicedToArray$2(_getRelativeCursor, 2),\r\n        x = _getRelativeCursor2[0],\r\n        y = _getRelativeCursor2[1];\r\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\r\n    var pointIndex = delaunay.find(x - margin.left, y - margin.top);\r\n    return points[pointIndex];\r\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\r\n  var _useTooltip = useTooltip(),\r\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\r\n      hideTooltip = _useTooltip.hideTooltip;\r\n  var handleMouseHover = useCallback(function (event) {\r\n    var point = getPointFromMouseEvent(event);\r\n    setCurrentPoint(point);\r\n    if (point) {\r\n      showTooltipFromEvent(React.createElement(tooltip, {\r\n        point: point\r\n      }), event);\r\n    } else {\r\n      hideTooltip();\r\n    }\r\n  }, [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]);\r\n  var handleMouseLeave = useCallback(function (event) {\r\n    hideTooltip();\r\n    setCurrentPoint(null);\r\n    currentPoint && onMouseLeave && onMouseLeave(currentPoint, event);\r\n  }, [hideTooltip, setCurrentPoint, onMouseLeave]);\r\n  var handleClick = useCallback(function (event) {\r\n    if (onClick) {\r\n      var point = getPointFromMouseEvent(event);\r\n      point && onClick(point, event);\r\n    }\r\n  }, [getPointFromMouseEvent, onClick]);\r\n  return React.createElement(\"canvas\", {\r\n    ref: canvasEl,\r\n    width: outerWidth * pixelRatio,\r\n    height: outerHeight * pixelRatio,\r\n    style: {\r\n      width: outerWidth,\r\n      height: outerHeight,\r\n      cursor: isInteractive ? 'auto' : 'normal'\r\n    },\r\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\r\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\r\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\r\n    onClick: isInteractive ? handleClick : undefined\r\n  });\r\n};\r\nLineCanvas.propTypes = LineCanvasPropTypes;\r\nLineCanvas.defaultProps = LineCanvasDefaultProps;\r\nvar LineCanvas$1 = withContainer(LineCanvas);\r\n\r\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\r\nvar ResponsiveLineCanvas = function ResponsiveLineCanvas(props) {\r\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\r\n    var width = _ref.width,\r\n        height = _ref.height;\r\n    return React.createElement(LineCanvas$1, _extends$3({\r\n      width: width,\r\n      height: height\r\n    }, props));\r\n  });\r\n};\r\n\r\nexport { Line$1 as Line, LineCanvas$1 as LineCanvas, LineCanvasDefaultProps, LineCanvasPropTypes, LineDefaultProps, LinePropTypes, ResponsiveLine, ResponsiveLineCanvas, useAreaGenerator, useLine, useLineGenerator, useSlices };\r\n"]},"metadata":{},"sourceType":"module"}