{"ast":null,"code":"import React, { useMemo, memo, useCallback, Fragment, useRef, useState, useEffect } from 'react';\nimport { useValueFormatter, blendModePropType, motionPropTypes, useMotionConfig, withContainer, useDimensions, useTheme, CartesianMarkers, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { useOrdinalColorScale, ordinalColorsPropType } from '@nivo/colors';\nimport { computeXYScalesForSeries, scalePropType } from '@nivo/scales';\nimport { useAnnotations, annotationSpecPropType, Annotation } from '@nivo/annotations';\nimport get from 'lodash/get';\nimport isString from 'lodash/isString';\nimport isNumber from 'lodash/isNumber';\nimport isPlainObject from 'lodash/isPlainObject';\nimport { scaleLinear } from 'd3-scale';\nimport PropTypes from 'prop-types';\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar getNodeSizeGenerator = function getNodeSizeGenerator(size) {\n  if (typeof size === 'function') return size;\n  if (isNumber(size)) return function () {\n    return size;\n  };\n\n  if (isPlainObject(size)) {\n    if (!isString(size.key)) {\n      throw new Error('symbolSize is invalid, key should be a string pointing to the property to use to determine node size');\n    }\n\n    if (!Array.isArray(size.values) || size.values.length !== 2) {\n      throw new Error('symbolSize is invalid, values spec should be an array containing two values, min and max');\n    }\n\n    if (!Array.isArray(size.sizes) || size.sizes.length !== 2) {\n      throw new Error('symbolSize is invalid, sizes spec should be an array containing two values, min and max');\n    }\n\n    var sizeScale = scaleLinear().domain([size.values[0], size.values[1]]).range([size.sizes[0], size.sizes[1]]);\n    return function (d) {\n      return sizeScale(get(d, size.key));\n    };\n  }\n\n  throw new Error('symbolSize is invalid, it should be either a function, a number or an object');\n};\n\nvar computePoints = function computePoints(_ref) {\n  var series = _ref.series,\n      formatX = _ref.formatX,\n      formatY = _ref.formatY;\n  return series.reduce(function (agg, serie) {\n    return [].concat(_toConsumableArray(agg), _toConsumableArray(serie.data.map(function (d, i) {\n      return {\n        index: agg.length + i,\n        id: \"\".concat(serie.id, \".\").concat(i),\n        x: d.position.x,\n        y: d.position.y,\n        data: _objectSpread({}, d.data, {\n          id: \"\".concat(serie.id, \".\").concat(i),\n          serieId: serie.id,\n          formattedX: formatX(d.data.x),\n          formattedY: formatY(d.data.y)\n        })\n      };\n    })));\n  }, []);\n};\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar useNodeSize = function useNodeSize(size) {\n  return useMemo(function () {\n    return getNodeSizeGenerator(size);\n  }, [size]);\n};\n\nvar useScatterPlot = function useScatterPlot(_ref) {\n  var data = _ref.data,\n      xScaleSpec = _ref.xScaleSpec,\n      xFormat = _ref.xFormat,\n      yScaleSpec = _ref.yScaleSpec,\n      yFormat = _ref.yFormat,\n      width = _ref.width,\n      height = _ref.height,\n      nodeSize = _ref.nodeSize,\n      colors = _ref.colors;\n\n  var _useMemo = useMemo(function () {\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\n      series = _useMemo.series,\n      xScale = _useMemo.xScale,\n      yScale = _useMemo.yScale;\n\n  var formatX = useValueFormatter(xFormat);\n  var formatY = useValueFormatter(yFormat);\n  var rawNodes = useMemo(function () {\n    return computePoints({\n      series: series,\n      formatX: formatX,\n      formatY: formatY\n    });\n  }, [series, formatX, formatY]);\n  var getNodeSize = useNodeSize(nodeSize);\n  var getColor = useOrdinalColorScale(colors, 'serieId');\n  var nodes = useMemo(function () {\n    return rawNodes.map(function (rawNode) {\n      return _objectSpread$1({}, rawNode, {\n        size: getNodeSize(rawNode.data),\n        style: {\n          color: getColor(rawNode.data)\n        }\n      });\n    });\n  }, [rawNodes, getNodeSize, getColor]);\n  var legendData = useMemo(function () {\n    return series.map(function (serie) {\n      return {\n        id: serie.id,\n        label: serie.id,\n        color: getColor({\n          serieId: serie.id\n        })\n      };\n    });\n  }, [series, getColor]);\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    nodes: nodes,\n    legendData: legendData\n  };\n};\n\nvar useScatterPlotAnnotations = function useScatterPlotAnnotations(items, annotations) {\n  return useAnnotations({\n    items: items,\n    annotations: annotations,\n    getDimensions: function getDimensions(node, offset) {\n      var size = node.size + offset * 2;\n      return {\n        size: size,\n        width: size,\n        height: size\n      };\n    }\n  });\n};\n\nvar Node = function Node(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      color = _ref.color,\n      blendMode = _ref.blendMode,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick;\n  return React.createElement(\"circle\", {\n    cx: x,\n    cy: y,\n    r: size / 2,\n    fill: color,\n    style: {\n      mixBlendMode: blendMode\n    },\n    onMouseEnter: onMouseEnter,\n    onMouseMove: onMouseMove,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick\n  });\n};\n\nNode.propTypes = {\n  node: PropTypes.object.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  blendMode: blendModePropType.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func\n};\nvar Node$1 = memo(Node);\n\nvar Tooltip = function Tooltip(_ref) {\n  var node = _ref.node;\n  return React.createElement(BasicTooltip, {\n    id: node.data.serieId,\n    value: \"x: \".concat(node.data.formattedX, \", y: \").concat(node.data.formattedY),\n    enableChip: true,\n    color: node.style.color\n  });\n};\n\nTooltip.propTypes = {\n  node: PropTypes.object.isRequired\n};\nvar Tooltip$1 = memo(Tooltip);\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar commonPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.shape({\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired\n    })).isRequired\n  })).isRequired,\n  xScale: scalePropType.isRequired,\n  xFormat: PropTypes.any,\n  yScale: scalePropType.isRequired,\n  yFormat: PropTypes.any,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'axes', 'nodes', 'markers', 'mesh', 'legends', 'annotations']), PropTypes.func])).isRequired,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  annotations: PropTypes.arrayOf(annotationSpecPropType).isRequired,\n  nodeSize: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    values: PropTypes.arrayOf(PropTypes.number).isRequired,\n    sizes: PropTypes.arrayOf(PropTypes.number).isRequired\n  }), PropTypes.func]).isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  blendMode: blendModePropType.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  debugMesh: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  markers: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    style: PropTypes.object\n  })),\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\n};\n\nvar ScatterPlotPropTypes = _objectSpread$2({}, commonPropTypes, {\n  useMesh: PropTypes.bool.isRequired\n}, motionPropTypes);\n\nvar ScatterPlotCanvasPropTypes = _objectSpread$2({}, commonPropTypes, {\n  pixelRatio: PropTypes.number.isRequired\n});\n\nvar commonDefaultProps = {\n  xScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  yScale: {\n    type: 'linear',\n    min: 0,\n    max: 'auto'\n  },\n  enableGridX: true,\n  enableGridY: true,\n  axisBottom: {},\n  axisLeft: {},\n  nodeSize: 9,\n  renderNode: Node$1,\n  colors: {\n    scheme: 'nivo'\n  },\n  blendMode: 'normal',\n  isInteractive: true,\n  debugMesh: false,\n  tooltip: Tooltip$1,\n  markers: [],\n  legends: [],\n  annotations: []\n};\n\nvar ScatterPlotDefaultProps = _objectSpread$2({}, commonDefaultProps, {\n  layers: ['grid', 'axes', 'nodes', 'markers', 'mesh', 'legends', 'annotations'],\n  useMesh: true,\n  animate: true,\n  motionStiffness: 90,\n  motionDamping: 15\n});\n\nvar ScatterPlotCanvasDefaultProps = _objectSpread$2({}, commonDefaultProps, {\n  layers: ['grid', 'axes', 'nodes', 'mesh', 'legends', 'annotations'],\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nvar NodePropType = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  data: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    serieId: PropTypes.string.isRequired,\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    formattedX: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\n    formattedY: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n  }).isRequired,\n  style: PropTypes.shape({\n    color: PropTypes.string.isRequired\n  }).isRequired\n});\n\nvar NodeWrapper = function NodeWrapper(_ref) {\n  var node = _ref.node,\n      NodeComponent = _ref.renderNode,\n      x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      color = _ref.color,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      blendMode = _ref.blendMode;\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseEnter = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseEnter && onMouseEnter(node, event);\n  }, [node, tooltip, showTooltipFromEvent, onMouseEnter]);\n  var handleMouseMove = useCallback(function (event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseMove && onMouseMove(node, event);\n  }, [node, tooltip, showTooltipFromEvent, onMouseMove]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    onMouseLeave && onMouseLeave(node, event);\n  }, [node, hideTooltip, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    onClick && onClick(node, event);\n  }, [node, onClick]);\n  return React.createElement(NodeComponent, {\n    node: node,\n    x: x,\n    y: y,\n    size: size,\n    color: color,\n    blendMode: blendMode,\n    onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n    onMouseMove: isInteractive ? handleMouseMove : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive && onClick ? handleClick : undefined\n  });\n};\n\nNodeWrapper.propTypes = {\n  node: NodePropType.isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  blendMode: blendModePropType.isRequired\n};\nvar NodeWrapper$1 = memo(NodeWrapper);\n\nvar AnimatedNodes = function AnimatedNodes(_ref) {\n  var nodes = _ref.nodes,\n      renderNode = _ref.renderNode,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      blendMode = _ref.blendMode;\n\n  var _useMotionConfig = useMotionConfig(),\n      springConfig = _useMotionConfig.springConfig;\n\n  return React.createElement(TransitionMotion, {\n    styles: nodes.map(function (node) {\n      return {\n        key: node.id,\n        data: node,\n        style: {\n          x: spring(node.x, springConfig),\n          y: spring(node.y, springConfig),\n          size: spring(node.size, springConfig)\n        }\n      };\n    })\n  }, function (interpolatedStyles) {\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref2) {\n      var key = _ref2.key,\n          style = _ref2.style,\n          node = _ref2.data;\n      return React.createElement(NodeWrapper$1, {\n        key: key,\n        node: node,\n        renderNode: renderNode,\n        x: style.x,\n        y: style.y,\n        size: style.size,\n        color: node.style.color,\n        isInteractive: isInteractive,\n        onMouseEnter: onMouseEnter,\n        onMouseMove: onMouseMove,\n        onMouseLeave: onMouseLeave,\n        onClick: onClick,\n        tooltip: tooltip,\n        blendMode: blendMode\n      });\n    }));\n  });\n};\n\nAnimatedNodes.propTypes = {\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  blendMode: blendModePropType.isRequired\n};\nvar AnimatedNodes$1 = memo(AnimatedNodes);\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar ScatterPlotAnnotations = function ScatterPlotAnnotations(_ref) {\n  var nodes = _ref.nodes,\n      annotations = _ref.annotations,\n      innerWidth = _ref.innerWidth,\n      innerHeight = _ref.innerHeight;\n  var boundAnnotations = useScatterPlotAnnotations(nodes, annotations);\n  return boundAnnotations.map(function (annotation, i) {\n    return React.createElement(Annotation, _extends({\n      key: i\n    }, annotation, {\n      containerWidth: innerWidth,\n      containerHeight: innerHeight\n    }));\n  });\n};\n\nScatterPlotAnnotations.propTypes = {};\n\nvar StaticNodes = function StaticNodes(_ref) {\n  var nodes = _ref.nodes,\n      renderNode = _ref.renderNode,\n      isInteractive = _ref.isInteractive,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      blendMode = _ref.blendMode;\n  return nodes.map(function (node) {\n    return React.createElement(NodeWrapper$1, {\n      key: node.id,\n      node: node,\n      renderNode: renderNode,\n      x: node.x,\n      y: node.y,\n      size: node.size,\n      color: node.style.color,\n      isInteractive: isInteractive,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      blendMode: blendMode\n    });\n  });\n};\n\nStaticNodes.propTypes = {\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  blendMode: blendModePropType.isRequired\n};\nvar StaticNodes$1 = memo(StaticNodes);\n\nvar Mesh = function Mesh(_ref) {\n  var nodes = _ref.nodes,\n      width = _ref.width,\n      height = _ref.height,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip,\n      debug = _ref.debug;\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseEnter = useCallback(function (node, event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseEnter && onMouseEnter(node, event);\n  }, [showTooltipFromEvent, tooltip, onMouseEnter]);\n  var handleMouseMove = useCallback(function (node, event) {\n    showTooltipFromEvent(React.createElement(tooltip, {\n      node: node\n    }), event);\n    onMouseMove && onMouseMove(node, event);\n  }, [showTooltipFromEvent, tooltip, onMouseMove]);\n  var handleMouseLeave = useCallback(function () {\n    hideTooltip();\n  }, [hideTooltip]);\n  var handleClick = useCallback(function (node, event) {\n    onClick && onClick(node, event);\n  }, [onClick]);\n  return React.createElement(Mesh$2, {\n    nodes: nodes,\n    width: width,\n    height: height,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick,\n    debug: debug\n  });\n};\n\nMesh.propTypes = {\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  onMouseEnter: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  debug: PropTypes.bool.isRequired\n};\nvar Mesh$1 = memo(Mesh);\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ScatterPlot = function ScatterPlot(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      layers = props.layers,\n      colors = props.colors,\n      blendMode = props.blendMode,\n      nodeSize = props.nodeSize,\n      renderNode = props.renderNode,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      annotations = props.annotations,\n      isInteractive = props.isInteractive,\n      useMesh = props.useMesh,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      markers = props.markers,\n      legends = props.legends;\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate;\n\n  var _useScatterPlot = useScatterPlot({\n    data: data,\n    xScaleSpec: xScaleSpec,\n    xFormat: xFormat,\n    yScaleSpec: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    nodeSize: nodeSize,\n    colors: colors\n  }),\n      xScale = _useScatterPlot.xScale,\n      yScale = _useScatterPlot.yScale,\n      nodes = _useScatterPlot.nodes,\n      legendData = _useScatterPlot.legendData;\n\n  var customLayerProps = useMemo(function () {\n    return _objectSpread$3({}, props, {\n      xScale: xScale,\n      yScale: yScale,\n      nodes: nodes,\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      outerWidth: outerWidth,\n      outerHeight: outerHeight\n    });\n  }, [xScale, yScale, nodes, margin, innerWidth, innerHeight, outerWidth, outerHeight]);\n  var Nodes = animate ? AnimatedNodes$1 : StaticNodes$1;\n  var layerById = {\n    grid: React.createElement(Grid, {\n      key: \"grid\",\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? xScale : null,\n      yScale: enableGridY ? yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }),\n    axes: React.createElement(Axes, {\n      key: \"axes\",\n      xScale: xScale,\n      yScale: yScale,\n      width: innerWidth,\n      height: innerHeight,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }),\n    nodes: React.createElement(Nodes, {\n      key: 'nodes',\n      nodes: nodes,\n      renderNode: renderNode,\n      isInteractive: isInteractive,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      blendMode: blendMode\n    }),\n    markers: React.createElement(CartesianMarkers, {\n      key: \"markers\",\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: xScale,\n      yScale: yScale\n    }),\n    mesh: null,\n    annotations: React.createElement(ScatterPlotAnnotations, {\n      key: \"annotations\",\n      nodes: nodes,\n      annotations: annotations,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      animate: animate\n    }),\n    legends: legends.map(function (legend, i) {\n      return React.createElement(BoxLegendSvg, _extends$1({\n        key: i\n      }, legend, {\n        containerWidth: innerWidth,\n        containerHeight: innerHeight,\n        data: legendData,\n        theme: theme\n      }));\n    })\n  };\n\n  if (isInteractive === true && useMesh === true) {\n    layerById.mesh = React.createElement(Mesh$1, {\n      key: \"mesh\",\n      nodes: nodes,\n      width: innerWidth,\n      height: innerHeight,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      tooltip: tooltip,\n      debug: debugMesh\n    });\n  }\n\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layerById[layer] !== undefined) {\n      return layerById[layer];\n    }\n\n    if (typeof layer === 'function') {\n      return React.createElement(Fragment, {\n        key: i\n      }, React.createElement(layer, customLayerProps));\n    }\n\n    throw new Error(\"Unknown layer (\".concat(layer, \")\"));\n  }));\n};\n\nScatterPlot.propTypes = ScatterPlotPropTypes;\nScatterPlot.defaultProps = ScatterPlotDefaultProps;\nvar ScatterPlot$1 = memo(withContainer(ScatterPlot));\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar ResponsiveScatterPlot = function ResponsiveScatterPlot(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ScatterPlot$1, _extends$2({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$4(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$4(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar ScatterPlotCanvas = function ScatterPlotCanvas(props) {\n  var data = props.data,\n      xScaleSpec = props.xScale,\n      xFormat = props.xFormat,\n      yScaleSpec = props.yScale,\n      yFormat = props.yFormat,\n      width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      pixelRatio = props.pixelRatio,\n      layers = props.layers,\n      colors = props.colors,\n      nodeSize = props.nodeSize,\n      renderNode = props.renderNode,\n      enableGridX = props.enableGridX,\n      gridXValues = props.gridXValues,\n      enableGridY = props.enableGridY,\n      gridYValues = props.gridYValues,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      isInteractive = props.isInteractive,\n      debugMesh = props.debugMesh,\n      onMouseEnter = props.onMouseEnter,\n      onMouseMove = props.onMouseMove,\n      onMouseLeave = props.onMouseLeave,\n      onClick = props.onClick,\n      tooltip = props.tooltip,\n      legends = props.legends;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentNode = _useState2[0],\n      setCurrentNode = _useState2[1];\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useScatterPlot = useScatterPlot({\n    data: data,\n    xScaleSpec: xScaleSpec,\n    xFormat: xFormat,\n    yScaleSpec: yScaleSpec,\n    yFormat: yFormat,\n    width: innerWidth,\n    height: innerHeight,\n    nodeSize: nodeSize,\n    colors: colors\n  }),\n      xScale = _useScatterPlot.xScale,\n      yScale = _useScatterPlot.yScale,\n      nodes = _useScatterPlot.nodes,\n      legendData = _useScatterPlot.legendData;\n\n  var _useVoronoiMesh = useVoronoiMesh({\n    points: nodes,\n    width: innerWidth,\n    height: innerHeight,\n    debug: debugMesh\n  }),\n      delaunay = _useVoronoiMesh.delaunay,\n      voronoi = _useVoronoiMesh.voronoi;\n\n  var customLayerProps = useMemo(function () {\n    return _objectSpread$4({}, props, {\n      xScale: xScale,\n      yScale: yScale,\n      nodes: nodes,\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      outerWidth: outerWidth,\n      outerHeight: outerHeight\n    });\n  }, [xScale, yScale, nodes, margin, innerWidth, innerHeight, outerWidth, outerHeight]);\n  useEffect(function () {\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid') {\n        ctx.lineWidth = theme.grid.line.strokeWidth;\n        ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(ctx, {\n          width: innerWidth,\n          height: innerHeight,\n          scale: yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      } else if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: xScale,\n          yScale: yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      } else if (layer === 'nodes') {\n        nodes.forEach(function (node) {\n          renderNode(ctx, node);\n        });\n      } else if (layer === 'mesh') {\n        if (debugMesh === true) {\n          renderVoronoiToCanvas(ctx, voronoi);\n\n          if (currentNode) {\n            renderVoronoiCellToCanvas(ctx, voronoi, currentNode.index);\n          }\n        }\n      } else if (layer === 'legends') {\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$4({}, legend, {\n            data: legendData,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      } else if (typeof layer === 'function') {\n        layer(ctx, customLayerProps);\n      } else {\n        throw new Error(\"Invalid layer: \".concat(layer));\n      }\n    });\n  }, [canvasEl, innerWidth, innerHeight, outerWidth, outerHeight, margin.top, margin.left, pixelRatio, renderNode, layers, customLayerProps, theme, xScale, yScale, nodes, enableGridX, enableGridY, axisTop, axisRight, axisBottom, axisLeft, legends, legendData, debugMesh, voronoi, currentNode]);\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var getNodeFromMouseEvent = useCallback(function (event) {\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\n    var nodeIndex = delaunay.find(x - margin.left, y - margin.top);\n    return nodes[nodeIndex];\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\n  var handleMouseHover = useCallback(function (event) {\n    var node = getNodeFromMouseEvent(event);\n    setCurrentNode(node);\n\n    if (node) {\n      showTooltipFromEvent(React.createElement(tooltip, {\n        node: node\n      }), event);\n\n      if (currentNode && currentNode.id !== node.id) {\n        onMouseLeave && onMouseLeave(currentNode, event);\n        onMouseEnter && onMouseEnter(node, event);\n      }\n\n      if (!currentNode) {\n        onMouseEnter && onMouseEnter(node, event);\n      }\n\n      onMouseMove && onMouseMove(node, event);\n    } else {\n      hideTooltip();\n      currentNode && onMouseLeave && onMouseLeave(currentNode, event);\n    }\n  }, [getNodeFromMouseEvent, currentNode, setCurrentNode, showTooltipFromEvent, hideTooltip, tooltip, onMouseEnter, onMouseMove, onMouseLeave]);\n  var handleMouseLeave = useCallback(function (event) {\n    hideTooltip();\n    setCurrentNode(null);\n    currentNode && onMouseLeave && onMouseLeave(currentNode, event);\n  }, [hideTooltip, currentNode, setCurrentNode, onMouseLeave]);\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      var node = getNodeFromMouseEvent(event);\n      node && onClick(node, event);\n    }\n  }, [getNodeFromMouseEvent, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\n\nScatterPlotCanvas.propTypes = ScatterPlotCanvasPropTypes;\nScatterPlotCanvas.defaultProps = _objectSpread$4({}, ScatterPlotCanvasDefaultProps, {\n  renderNode: function renderNode(ctx, node) {\n    ctx.beginPath();\n    ctx.arc(node.x, node.y, node.size / 2, 0, 2 * Math.PI);\n    ctx.fillStyle = node.style.color;\n    ctx.fill();\n  }\n});\nvar ScatterPlotCanvas$1 = memo(withContainer(ScatterPlotCanvas));\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nvar ResponsiveScatterPlotCanvas = function ResponsiveScatterPlotCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ScatterPlotCanvas$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { NodePropType, ResponsiveScatterPlot, ResponsiveScatterPlotCanvas, ScatterPlot$1 as ScatterPlot, ScatterPlotCanvas$1 as ScatterPlotCanvas, ScatterPlotCanvasDefaultProps, ScatterPlotCanvasPropTypes, ScatterPlotDefaultProps, ScatterPlotPropTypes, useScatterPlot, useScatterPlotAnnotations };","map":{"version":3,"sources":["G:/Companies work/TCS/CCT/DynaChain/node_modules/@nivo/scatterplot/dist/nivo-scatterplot.esm.js"],"names":["React","useMemo","memo","useCallback","Fragment","useRef","useState","useEffect","useValueFormatter","blendModePropType","motionPropTypes","useMotionConfig","withContainer","useDimensions","useTheme","CartesianMarkers","SvgWrapper","ResponsiveWrapper","getRelativeCursor","isCursorInRect","axisPropType","Grid","Axes","renderGridLinesToCanvas","renderAxesToCanvas","LegendPropShape","BoxLegendSvg","renderLegendToCanvas","useOrdinalColorScale","ordinalColorsPropType","computeXYScalesForSeries","scalePropType","useAnnotations","annotationSpecPropType","Annotation","get","isString","isNumber","isPlainObject","scaleLinear","PropTypes","BasicTooltip","useTooltip","TransitionMotion","spring","Mesh","Mesh$2","useVoronoiMesh","renderVoronoiToCanvas","renderVoronoiCellToCanvas","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","arr2","getNodeSizeGenerator","size","Error","values","sizes","sizeScale","domain","range","d","computePoints","_ref","series","formatX","formatY","reduce","agg","serie","data","map","index","id","x","position","y","serieId","formattedX","formattedY","_objectSpread$1","_defineProperty$1","useNodeSize","useScatterPlot","xScaleSpec","xFormat","yScaleSpec","yFormat","width","height","nodeSize","colors","_useMemo","xScale","yScale","rawNodes","getNodeSize","getColor","nodes","rawNode","style","color","legendData","label","useScatterPlotAnnotations","items","annotations","getDimensions","node","offset","Node","blendMode","onMouseEnter","onMouseMove","onMouseLeave","onClick","createElement","cx","cy","r","fill","mixBlendMode","propTypes","object","isRequired","number","string","func","Node$1","Tooltip","enableChip","Tooltip$1","_objectSpread$2","_defineProperty$2","commonPropTypes","arrayOf","shape","oneOfType","instanceOf","Date","any","layers","oneOf","enableGridX","bool","enableGridY","axisTop","axisRight","axisBottom","axisLeft","renderNode","isInteractive","debugMesh","tooltip","markers","axis","legends","ScatterPlotPropTypes","useMesh","ScatterPlotCanvasPropTypes","pixelRatio","commonDefaultProps","type","min","max","scheme","ScatterPlotDefaultProps","animate","motionStiffness","motionDamping","ScatterPlotCanvasDefaultProps","global","window","devicePixelRatio","NodePropType","NodeWrapper","NodeComponent","_useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","handleMouseMove","handleMouseLeave","handleClick","undefined","NodeWrapper$1","AnimatedNodes","_useMotionConfig","springConfig","styles","interpolatedStyles","_ref2","AnimatedNodes$1","_extends","assign","hasOwnProperty","apply","ScatterPlotAnnotations","innerWidth","innerHeight","boundAnnotations","annotation","containerWidth","containerHeight","StaticNodes","StaticNodes$1","debug","Mesh$1","_extends$1","_objectSpread$3","_defineProperty$3","ScatterPlot","props","partialMargin","margin","gridXValues","gridYValues","_useDimensions","outerWidth","outerHeight","theme","_useScatterPlot","customLayerProps","Nodes","layerById","grid","xValues","yValues","axes","top","right","bottom","left","mesh","legend","layer","defaultProps","ScatterPlot$1","_extends$2","ResponsiveScatterPlot","_objectSpread$4","_defineProperty$4","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_i","_s","next","done","push","err","ScatterPlotCanvas","canvasEl","_useState","_useState2","currentNode","setCurrentNode","_useVoronoiMesh","points","delaunay","voronoi","current","ctx","getContext","scale","fillStyle","background","fillRect","translate","lineWidth","line","strokeWidth","strokeStyle","stroke","getNodeFromMouseEvent","_getRelativeCursor","_getRelativeCursor2","nodeIndex","find","handleMouseHover","ref","cursor","beginPath","arc","Math","PI","ScatterPlotCanvas$1","_extends$3","ResponsiveScatterPlotCanvas"],"mappings":"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","sourcesContent":["import React, { useMemo, memo, useCallback, Fragment, useRef, useState, useEffect } from 'react';\r\nimport { useValueFormatter, blendModePropType, motionPropTypes, useMotionConfig, withContainer, useDimensions, useTheme, CartesianMarkers, SvgWrapper, ResponsiveWrapper, getRelativeCursor, isCursorInRect } from '@nivo/core';\r\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\r\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\r\nimport { useOrdinalColorScale, ordinalColorsPropType } from '@nivo/colors';\r\nimport { computeXYScalesForSeries, scalePropType } from '@nivo/scales';\r\nimport { useAnnotations, annotationSpecPropType, Annotation } from '@nivo/annotations';\r\nimport get from 'lodash/get';\r\nimport isString from 'lodash/isString';\r\nimport isNumber from 'lodash/isNumber';\r\nimport isPlainObject from 'lodash/isPlainObject';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport PropTypes from 'prop-types';\r\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip';\r\nimport { TransitionMotion, spring } from 'react-motion';\r\nimport { Mesh as Mesh$2, useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi';\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\r\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\r\nvar getNodeSizeGenerator = function getNodeSizeGenerator(size) {\r\n  if (typeof size === 'function') return size;\r\n  if (isNumber(size)) return function () {\r\n    return size;\r\n  };\r\n  if (isPlainObject(size)) {\r\n    if (!isString(size.key)) {\r\n      throw new Error('symbolSize is invalid, key should be a string pointing to the property to use to determine node size');\r\n    }\r\n    if (!Array.isArray(size.values) || size.values.length !== 2) {\r\n      throw new Error('symbolSize is invalid, values spec should be an array containing two values, min and max');\r\n    }\r\n    if (!Array.isArray(size.sizes) || size.sizes.length !== 2) {\r\n      throw new Error('symbolSize is invalid, sizes spec should be an array containing two values, min and max');\r\n    }\r\n    var sizeScale = scaleLinear().domain([size.values[0], size.values[1]]).range([size.sizes[0], size.sizes[1]]);\r\n    return function (d) {\r\n      return sizeScale(get(d, size.key));\r\n    };\r\n  }\r\n  throw new Error('symbolSize is invalid, it should be either a function, a number or an object');\r\n};\r\nvar computePoints = function computePoints(_ref) {\r\n  var series = _ref.series,\r\n      formatX = _ref.formatX,\r\n      formatY = _ref.formatY;\r\n  return series.reduce(function (agg, serie) {\r\n    return [].concat(_toConsumableArray(agg), _toConsumableArray(serie.data.map(function (d, i) {\r\n      return {\r\n        index: agg.length + i,\r\n        id: \"\".concat(serie.id, \".\").concat(i),\r\n        x: d.position.x,\r\n        y: d.position.y,\r\n        data: _objectSpread({}, d.data, {\r\n          id: \"\".concat(serie.id, \".\").concat(i),\r\n          serieId: serie.id,\r\n          formattedX: formatX(d.data.x),\r\n          formattedY: formatY(d.data.y)\r\n        })\r\n      };\r\n    })));\r\n  }, []);\r\n};\r\n\r\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nvar useNodeSize = function useNodeSize(size) {\r\n  return useMemo(function () {\r\n    return getNodeSizeGenerator(size);\r\n  }, [size]);\r\n};\r\nvar useScatterPlot = function useScatterPlot(_ref) {\r\n  var data = _ref.data,\r\n      xScaleSpec = _ref.xScaleSpec,\r\n      xFormat = _ref.xFormat,\r\n      yScaleSpec = _ref.yScaleSpec,\r\n      yFormat = _ref.yFormat,\r\n      width = _ref.width,\r\n      height = _ref.height,\r\n      nodeSize = _ref.nodeSize,\r\n      colors = _ref.colors;\r\n  var _useMemo = useMemo(function () {\r\n    return computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height);\r\n  }, [data, xScaleSpec, yScaleSpec, width, height]),\r\n      series = _useMemo.series,\r\n      xScale = _useMemo.xScale,\r\n      yScale = _useMemo.yScale;\r\n  var formatX = useValueFormatter(xFormat);\r\n  var formatY = useValueFormatter(yFormat);\r\n  var rawNodes = useMemo(function () {\r\n    return computePoints({\r\n      series: series,\r\n      formatX: formatX,\r\n      formatY: formatY\r\n    });\r\n  }, [series, formatX, formatY]);\r\n  var getNodeSize = useNodeSize(nodeSize);\r\n  var getColor = useOrdinalColorScale(colors, 'serieId');\r\n  var nodes = useMemo(function () {\r\n    return rawNodes.map(function (rawNode) {\r\n      return _objectSpread$1({}, rawNode, {\r\n        size: getNodeSize(rawNode.data),\r\n        style: {\r\n          color: getColor(rawNode.data)\r\n        }\r\n      });\r\n    });\r\n  }, [rawNodes, getNodeSize, getColor]);\r\n  var legendData = useMemo(function () {\r\n    return series.map(function (serie) {\r\n      return {\r\n        id: serie.id,\r\n        label: serie.id,\r\n        color: getColor({\r\n          serieId: serie.id\r\n        })\r\n      };\r\n    });\r\n  }, [series, getColor]);\r\n  return {\r\n    xScale: xScale,\r\n    yScale: yScale,\r\n    nodes: nodes,\r\n    legendData: legendData\r\n  };\r\n};\r\nvar useScatterPlotAnnotations = function useScatterPlotAnnotations(items, annotations) {\r\n  return useAnnotations({\r\n    items: items,\r\n    annotations: annotations,\r\n    getDimensions: function getDimensions(node, offset) {\r\n      var size = node.size + offset * 2;\r\n      return {\r\n        size: size,\r\n        width: size,\r\n        height: size\r\n      };\r\n    }\r\n  });\r\n};\r\n\r\nvar Node = function Node(_ref) {\r\n  var x = _ref.x,\r\n      y = _ref.y,\r\n      size = _ref.size,\r\n      color = _ref.color,\r\n      blendMode = _ref.blendMode,\r\n      onMouseEnter = _ref.onMouseEnter,\r\n      onMouseMove = _ref.onMouseMove,\r\n      onMouseLeave = _ref.onMouseLeave,\r\n      onClick = _ref.onClick;\r\n  return React.createElement(\"circle\", {\r\n    cx: x,\r\n    cy: y,\r\n    r: size / 2,\r\n    fill: color,\r\n    style: {\r\n      mixBlendMode: blendMode\r\n    },\r\n    onMouseEnter: onMouseEnter,\r\n    onMouseMove: onMouseMove,\r\n    onMouseLeave: onMouseLeave,\r\n    onClick: onClick\r\n  });\r\n};\r\nNode.propTypes = {\r\n  node: PropTypes.object.isRequired,\r\n  x: PropTypes.number.isRequired,\r\n  y: PropTypes.number.isRequired,\r\n  size: PropTypes.number.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  blendMode: blendModePropType.isRequired,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onMouseLeave: PropTypes.func,\r\n  onClick: PropTypes.func\r\n};\r\nvar Node$1 = memo(Node);\r\n\r\nvar Tooltip = function Tooltip(_ref) {\r\n  var node = _ref.node;\r\n  return React.createElement(BasicTooltip, {\r\n    id: node.data.serieId,\r\n    value: \"x: \".concat(node.data.formattedX, \", y: \").concat(node.data.formattedY),\r\n    enableChip: true,\r\n    color: node.style.color\r\n  });\r\n};\r\nTooltip.propTypes = {\r\n  node: PropTypes.object.isRequired\r\n};\r\nvar Tooltip$1 = memo(Tooltip);\r\n\r\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nvar commonPropTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    data: PropTypes.arrayOf(PropTypes.shape({\r\n      x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\r\n      y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired\r\n    })).isRequired\r\n  })).isRequired,\r\n  xScale: scalePropType.isRequired,\r\n  xFormat: PropTypes.any,\r\n  yScale: scalePropType.isRequired,\r\n  yFormat: PropTypes.any,\r\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'axes', 'nodes', 'markers', 'mesh', 'legends', 'annotations']), PropTypes.func])).isRequired,\r\n  enableGridX: PropTypes.bool.isRequired,\r\n  enableGridY: PropTypes.bool.isRequired,\r\n  axisTop: axisPropType,\r\n  axisRight: axisPropType,\r\n  axisBottom: axisPropType,\r\n  axisLeft: axisPropType,\r\n  annotations: PropTypes.arrayOf(annotationSpecPropType).isRequired,\r\n  nodeSize: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\r\n    key: PropTypes.string.isRequired,\r\n    values: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n    sizes: PropTypes.arrayOf(PropTypes.number).isRequired\r\n  }), PropTypes.func]).isRequired,\r\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  colors: ordinalColorsPropType.isRequired,\r\n  blendMode: blendModePropType.isRequired,\r\n  isInteractive: PropTypes.bool.isRequired,\r\n  debugMesh: PropTypes.bool.isRequired,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onMouseLeave: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  markers: PropTypes.arrayOf(PropTypes.shape({\r\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\r\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n    style: PropTypes.object\r\n  })),\r\n  legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired\r\n};\r\nvar ScatterPlotPropTypes = _objectSpread$2({}, commonPropTypes, {\r\n  useMesh: PropTypes.bool.isRequired\r\n}, motionPropTypes);\r\nvar ScatterPlotCanvasPropTypes = _objectSpread$2({}, commonPropTypes, {\r\n  pixelRatio: PropTypes.number.isRequired\r\n});\r\nvar commonDefaultProps = {\r\n  xScale: {\r\n    type: 'linear',\r\n    min: 0,\r\n    max: 'auto'\r\n  },\r\n  yScale: {\r\n    type: 'linear',\r\n    min: 0,\r\n    max: 'auto'\r\n  },\r\n  enableGridX: true,\r\n  enableGridY: true,\r\n  axisBottom: {},\r\n  axisLeft: {},\r\n  nodeSize: 9,\r\n  renderNode: Node$1,\r\n  colors: {\r\n    scheme: 'nivo'\r\n  },\r\n  blendMode: 'normal',\r\n  isInteractive: true,\r\n  debugMesh: false,\r\n  tooltip: Tooltip$1,\r\n  markers: [],\r\n  legends: [],\r\n  annotations: []\r\n};\r\nvar ScatterPlotDefaultProps = _objectSpread$2({}, commonDefaultProps, {\r\n  layers: ['grid', 'axes', 'nodes', 'markers', 'mesh', 'legends', 'annotations'],\r\n  useMesh: true,\r\n  animate: true,\r\n  motionStiffness: 90,\r\n  motionDamping: 15\r\n});\r\nvar ScatterPlotCanvasDefaultProps = _objectSpread$2({}, commonDefaultProps, {\r\n  layers: ['grid', 'axes', 'nodes', 'mesh', 'legends', 'annotations'],\r\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\r\n});\r\nvar NodePropType = PropTypes.shape({\r\n  id: PropTypes.string.isRequired,\r\n  x: PropTypes.number.isRequired,\r\n  y: PropTypes.number.isRequired,\r\n  size: PropTypes.number.isRequired,\r\n  data: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    serieId: PropTypes.string.isRequired,\r\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\r\n    formattedX: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)]).isRequired,\r\n    formattedY: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\r\n  }).isRequired,\r\n  style: PropTypes.shape({\r\n    color: PropTypes.string.isRequired\r\n  }).isRequired\r\n});\r\n\r\nvar NodeWrapper = function NodeWrapper(_ref) {\r\n  var node = _ref.node,\r\n      NodeComponent = _ref.renderNode,\r\n      x = _ref.x,\r\n      y = _ref.y,\r\n      size = _ref.size,\r\n      color = _ref.color,\r\n      isInteractive = _ref.isInteractive,\r\n      onMouseEnter = _ref.onMouseEnter,\r\n      onMouseMove = _ref.onMouseMove,\r\n      onMouseLeave = _ref.onMouseLeave,\r\n      onClick = _ref.onClick,\r\n      tooltip = _ref.tooltip,\r\n      blendMode = _ref.blendMode;\r\n  var _useTooltip = useTooltip(),\r\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\r\n      hideTooltip = _useTooltip.hideTooltip;\r\n  var handleMouseEnter = useCallback(function (event) {\r\n    showTooltipFromEvent(React.createElement(tooltip, {\r\n      node: node\r\n    }), event);\r\n    onMouseEnter && onMouseEnter(node, event);\r\n  }, [node, tooltip, showTooltipFromEvent, onMouseEnter]);\r\n  var handleMouseMove = useCallback(function (event) {\r\n    showTooltipFromEvent(React.createElement(tooltip, {\r\n      node: node\r\n    }), event);\r\n    onMouseMove && onMouseMove(node, event);\r\n  }, [node, tooltip, showTooltipFromEvent, onMouseMove]);\r\n  var handleMouseLeave = useCallback(function (event) {\r\n    hideTooltip();\r\n    onMouseLeave && onMouseLeave(node, event);\r\n  }, [node, hideTooltip, onMouseLeave]);\r\n  var handleClick = useCallback(function (event) {\r\n    onClick && onClick(node, event);\r\n  }, [node, onClick]);\r\n  return React.createElement(NodeComponent, {\r\n    node: node,\r\n    x: x,\r\n    y: y,\r\n    size: size,\r\n    color: color,\r\n    blendMode: blendMode,\r\n    onMouseEnter: isInteractive ? handleMouseEnter : undefined,\r\n    onMouseMove: isInteractive ? handleMouseMove : undefined,\r\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\r\n    onClick: isInteractive && onClick ? handleClick : undefined\r\n  });\r\n};\r\nNodeWrapper.propTypes = {\r\n  node: NodePropType.isRequired,\r\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  x: PropTypes.number.isRequired,\r\n  y: PropTypes.number.isRequired,\r\n  size: PropTypes.number.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  isInteractive: PropTypes.bool.isRequired,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onMouseLeave: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  blendMode: blendModePropType.isRequired\r\n};\r\nvar NodeWrapper$1 = memo(NodeWrapper);\r\n\r\nvar AnimatedNodes = function AnimatedNodes(_ref) {\r\n  var nodes = _ref.nodes,\r\n      renderNode = _ref.renderNode,\r\n      isInteractive = _ref.isInteractive,\r\n      onMouseEnter = _ref.onMouseEnter,\r\n      onMouseMove = _ref.onMouseMove,\r\n      onMouseLeave = _ref.onMouseLeave,\r\n      onClick = _ref.onClick,\r\n      tooltip = _ref.tooltip,\r\n      blendMode = _ref.blendMode;\r\n  var _useMotionConfig = useMotionConfig(),\r\n      springConfig = _useMotionConfig.springConfig;\r\n  return React.createElement(TransitionMotion, {\r\n    styles: nodes.map(function (node) {\r\n      return {\r\n        key: node.id,\r\n        data: node,\r\n        style: {\r\n          x: spring(node.x, springConfig),\r\n          y: spring(node.y, springConfig),\r\n          size: spring(node.size, springConfig)\r\n        }\r\n      };\r\n    })\r\n  }, function (interpolatedStyles) {\r\n    return React.createElement(React.Fragment, null, interpolatedStyles.map(function (_ref2) {\r\n      var key = _ref2.key,\r\n          style = _ref2.style,\r\n          node = _ref2.data;\r\n      return React.createElement(NodeWrapper$1, {\r\n        key: key,\r\n        node: node,\r\n        renderNode: renderNode,\r\n        x: style.x,\r\n        y: style.y,\r\n        size: style.size,\r\n        color: node.style.color,\r\n        isInteractive: isInteractive,\r\n        onMouseEnter: onMouseEnter,\r\n        onMouseMove: onMouseMove,\r\n        onMouseLeave: onMouseLeave,\r\n        onClick: onClick,\r\n        tooltip: tooltip,\r\n        blendMode: blendMode\r\n      });\r\n    }));\r\n  });\r\n};\r\nAnimatedNodes.propTypes = {\r\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\r\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  isInteractive: PropTypes.bool.isRequired,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onMouseLeave: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  blendMode: blendModePropType.isRequired\r\n};\r\nvar AnimatedNodes$1 = memo(AnimatedNodes);\r\n\r\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\nvar ScatterPlotAnnotations = function ScatterPlotAnnotations(_ref) {\r\n  var nodes = _ref.nodes,\r\n      annotations = _ref.annotations,\r\n      innerWidth = _ref.innerWidth,\r\n      innerHeight = _ref.innerHeight;\r\n  var boundAnnotations = useScatterPlotAnnotations(nodes, annotations);\r\n  return boundAnnotations.map(function (annotation, i) {\r\n    return React.createElement(Annotation, _extends({\r\n      key: i\r\n    }, annotation, {\r\n      containerWidth: innerWidth,\r\n      containerHeight: innerHeight\r\n    }));\r\n  });\r\n};\r\nScatterPlotAnnotations.propTypes = {};\r\n\r\nvar StaticNodes = function StaticNodes(_ref) {\r\n  var nodes = _ref.nodes,\r\n      renderNode = _ref.renderNode,\r\n      isInteractive = _ref.isInteractive,\r\n      onMouseEnter = _ref.onMouseEnter,\r\n      onMouseMove = _ref.onMouseMove,\r\n      onMouseLeave = _ref.onMouseLeave,\r\n      onClick = _ref.onClick,\r\n      tooltip = _ref.tooltip,\r\n      blendMode = _ref.blendMode;\r\n  return nodes.map(function (node) {\r\n    return React.createElement(NodeWrapper$1, {\r\n      key: node.id,\r\n      node: node,\r\n      renderNode: renderNode,\r\n      x: node.x,\r\n      y: node.y,\r\n      size: node.size,\r\n      color: node.style.color,\r\n      isInteractive: isInteractive,\r\n      onMouseEnter: onMouseEnter,\r\n      onMouseMove: onMouseMove,\r\n      onMouseLeave: onMouseLeave,\r\n      onClick: onClick,\r\n      tooltip: tooltip,\r\n      blendMode: blendMode\r\n    });\r\n  });\r\n};\r\nStaticNodes.propTypes = {\r\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\r\n  renderNode: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  isInteractive: PropTypes.bool.isRequired,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onMouseLeave: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  blendMode: blendModePropType.isRequired\r\n};\r\nvar StaticNodes$1 = memo(StaticNodes);\r\n\r\nvar Mesh = function Mesh(_ref) {\r\n  var nodes = _ref.nodes,\r\n      width = _ref.width,\r\n      height = _ref.height,\r\n      onMouseEnter = _ref.onMouseEnter,\r\n      onMouseMove = _ref.onMouseMove,\r\n      onClick = _ref.onClick,\r\n      tooltip = _ref.tooltip,\r\n      debug = _ref.debug;\r\n  var _useTooltip = useTooltip(),\r\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\r\n      hideTooltip = _useTooltip.hideTooltip;\r\n  var handleMouseEnter = useCallback(function (node, event) {\r\n    showTooltipFromEvent(React.createElement(tooltip, {\r\n      node: node\r\n    }), event);\r\n    onMouseEnter && onMouseEnter(node, event);\r\n  }, [showTooltipFromEvent, tooltip, onMouseEnter]);\r\n  var handleMouseMove = useCallback(function (node, event) {\r\n    showTooltipFromEvent(React.createElement(tooltip, {\r\n      node: node\r\n    }), event);\r\n    onMouseMove && onMouseMove(node, event);\r\n  }, [showTooltipFromEvent, tooltip, onMouseMove]);\r\n  var handleMouseLeave = useCallback(function () {\r\n    hideTooltip();\r\n  }, [hideTooltip]);\r\n  var handleClick = useCallback(function (node, event) {\r\n    onClick && onClick(node, event);\r\n  }, [onClick]);\r\n  return React.createElement(Mesh$2, {\r\n    nodes: nodes,\r\n    width: width,\r\n    height: height,\r\n    onMouseEnter: handleMouseEnter,\r\n    onMouseMove: handleMouseMove,\r\n    onMouseLeave: handleMouseLeave,\r\n    onClick: handleClick,\r\n    debug: debug\r\n  });\r\n};\r\nMesh.propTypes = {\r\n  nodes: PropTypes.arrayOf(NodePropType).isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  onMouseEnter: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\r\n  debug: PropTypes.bool.isRequired\r\n};\r\nvar Mesh$1 = memo(Mesh);\r\n\r\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\r\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$3(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty$3(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nvar ScatterPlot = function ScatterPlot(props) {\r\n  var data = props.data,\r\n      xScaleSpec = props.xScale,\r\n      xFormat = props.xFormat,\r\n      yScaleSpec = props.yScale,\r\n      yFormat = props.yFormat,\r\n      width = props.width,\r\n      height = props.height,\r\n      partialMargin = props.margin,\r\n      layers = props.layers,\r\n      colors = props.colors,\r\n      blendMode = props.blendMode,\r\n      nodeSize = props.nodeSize,\r\n      renderNode = props.renderNode,\r\n      enableGridX = props.enableGridX,\r\n      enableGridY = props.enableGridY,\r\n      gridXValues = props.gridXValues,\r\n      gridYValues = props.gridYValues,\r\n      axisTop = props.axisTop,\r\n      axisRight = props.axisRight,\r\n      axisBottom = props.axisBottom,\r\n      axisLeft = props.axisLeft,\r\n      annotations = props.annotations,\r\n      isInteractive = props.isInteractive,\r\n      useMesh = props.useMesh,\r\n      debugMesh = props.debugMesh,\r\n      onMouseEnter = props.onMouseEnter,\r\n      onMouseMove = props.onMouseMove,\r\n      onMouseLeave = props.onMouseLeave,\r\n      onClick = props.onClick,\r\n      tooltip = props.tooltip,\r\n      markers = props.markers,\r\n      legends = props.legends;\r\n  var _useDimensions = useDimensions(width, height, partialMargin),\r\n      margin = _useDimensions.margin,\r\n      innerWidth = _useDimensions.innerWidth,\r\n      innerHeight = _useDimensions.innerHeight,\r\n      outerWidth = _useDimensions.outerWidth,\r\n      outerHeight = _useDimensions.outerHeight;\r\n  var theme = useTheme();\r\n  var _useMotionConfig = useMotionConfig(),\r\n      animate = _useMotionConfig.animate;\r\n  var _useScatterPlot = useScatterPlot({\r\n    data: data,\r\n    xScaleSpec: xScaleSpec,\r\n    xFormat: xFormat,\r\n    yScaleSpec: yScaleSpec,\r\n    yFormat: yFormat,\r\n    width: innerWidth,\r\n    height: innerHeight,\r\n    nodeSize: nodeSize,\r\n    colors: colors\r\n  }),\r\n      xScale = _useScatterPlot.xScale,\r\n      yScale = _useScatterPlot.yScale,\r\n      nodes = _useScatterPlot.nodes,\r\n      legendData = _useScatterPlot.legendData;\r\n  var customLayerProps = useMemo(function () {\r\n    return _objectSpread$3({}, props, {\r\n      xScale: xScale,\r\n      yScale: yScale,\r\n      nodes: nodes,\r\n      margin: margin,\r\n      innerWidth: innerWidth,\r\n      innerHeight: innerHeight,\r\n      outerWidth: outerWidth,\r\n      outerHeight: outerHeight\r\n    });\r\n  }, [xScale, yScale, nodes, margin, innerWidth, innerHeight, outerWidth, outerHeight]);\r\n  var Nodes = animate ? AnimatedNodes$1 : StaticNodes$1;\r\n  var layerById = {\r\n    grid: React.createElement(Grid, {\r\n      key: \"grid\",\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      xScale: enableGridX ? xScale : null,\r\n      yScale: enableGridY ? yScale : null,\r\n      xValues: gridXValues,\r\n      yValues: gridYValues\r\n    }),\r\n    axes: React.createElement(Axes, {\r\n      key: \"axes\",\r\n      xScale: xScale,\r\n      yScale: yScale,\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      top: axisTop,\r\n      right: axisRight,\r\n      bottom: axisBottom,\r\n      left: axisLeft\r\n    }),\r\n    nodes: React.createElement(Nodes, {\r\n      key: 'nodes',\r\n      nodes: nodes,\r\n      renderNode: renderNode,\r\n      isInteractive: isInteractive,\r\n      onMouseEnter: onMouseEnter,\r\n      onMouseMove: onMouseMove,\r\n      onMouseLeave: onMouseLeave,\r\n      onClick: onClick,\r\n      tooltip: tooltip,\r\n      blendMode: blendMode\r\n    }),\r\n    markers: React.createElement(CartesianMarkers, {\r\n      key: \"markers\",\r\n      markers: markers,\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      xScale: xScale,\r\n      yScale: yScale\r\n    }),\r\n    mesh: null,\r\n    annotations: React.createElement(ScatterPlotAnnotations, {\r\n      key: \"annotations\",\r\n      nodes: nodes,\r\n      annotations: annotations,\r\n      innerWidth: innerWidth,\r\n      innerHeight: innerHeight,\r\n      animate: animate\r\n    }),\r\n    legends: legends.map(function (legend, i) {\r\n      return React.createElement(BoxLegendSvg, _extends$1({\r\n        key: i\r\n      }, legend, {\r\n        containerWidth: innerWidth,\r\n        containerHeight: innerHeight,\r\n        data: legendData,\r\n        theme: theme\r\n      }));\r\n    })\r\n  };\r\n  if (isInteractive === true && useMesh === true) {\r\n    layerById.mesh = React.createElement(Mesh$1, {\r\n      key: \"mesh\",\r\n      nodes: nodes,\r\n      width: innerWidth,\r\n      height: innerHeight,\r\n      onMouseEnter: onMouseEnter,\r\n      onMouseMove: onMouseMove,\r\n      onMouseLeave: onMouseLeave,\r\n      onClick: onClick,\r\n      tooltip: tooltip,\r\n      debug: debugMesh\r\n    });\r\n  }\r\n  return React.createElement(SvgWrapper, {\r\n    width: outerWidth,\r\n    height: outerHeight,\r\n    margin: margin,\r\n    theme: theme\r\n  }, layers.map(function (layer, i) {\r\n    if (layerById[layer] !== undefined) {\r\n      return layerById[layer];\r\n    }\r\n    if (typeof layer === 'function') {\r\n      return React.createElement(Fragment, {\r\n        key: i\r\n      }, React.createElement(layer, customLayerProps));\r\n    }\r\n    throw new Error(\"Unknown layer (\".concat(layer, \")\"));\r\n  }));\r\n};\r\nScatterPlot.propTypes = ScatterPlotPropTypes;\r\nScatterPlot.defaultProps = ScatterPlotDefaultProps;\r\nvar ScatterPlot$1 = memo(withContainer(ScatterPlot));\r\n\r\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\r\nvar ResponsiveScatterPlot = function ResponsiveScatterPlot(props) {\r\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\r\n    var width = _ref.width,\r\n        height = _ref.height;\r\n    return React.createElement(ScatterPlot$1, _extends$2({\r\n      width: width,\r\n      height: height\r\n    }, props));\r\n  });\r\n};\r\n\r\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$4(target, key, source[key]); }); } return target; }\r\nfunction _defineProperty$4(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\r\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\r\nvar ScatterPlotCanvas = function ScatterPlotCanvas(props) {\r\n  var data = props.data,\r\n      xScaleSpec = props.xScale,\r\n      xFormat = props.xFormat,\r\n      yScaleSpec = props.yScale,\r\n      yFormat = props.yFormat,\r\n      width = props.width,\r\n      height = props.height,\r\n      partialMargin = props.margin,\r\n      pixelRatio = props.pixelRatio,\r\n      layers = props.layers,\r\n      colors = props.colors,\r\n      nodeSize = props.nodeSize,\r\n      renderNode = props.renderNode,\r\n      enableGridX = props.enableGridX,\r\n      gridXValues = props.gridXValues,\r\n      enableGridY = props.enableGridY,\r\n      gridYValues = props.gridYValues,\r\n      axisTop = props.axisTop,\r\n      axisRight = props.axisRight,\r\n      axisBottom = props.axisBottom,\r\n      axisLeft = props.axisLeft,\r\n      isInteractive = props.isInteractive,\r\n      debugMesh = props.debugMesh,\r\n      onMouseEnter = props.onMouseEnter,\r\n      onMouseMove = props.onMouseMove,\r\n      onMouseLeave = props.onMouseLeave,\r\n      onClick = props.onClick,\r\n      tooltip = props.tooltip,\r\n      legends = props.legends;\r\n  var canvasEl = useRef(null);\r\n  var theme = useTheme();\r\n  var _useState = useState(null),\r\n      _useState2 = _slicedToArray(_useState, 2),\r\n      currentNode = _useState2[0],\r\n      setCurrentNode = _useState2[1];\r\n  var _useDimensions = useDimensions(width, height, partialMargin),\r\n      margin = _useDimensions.margin,\r\n      innerWidth = _useDimensions.innerWidth,\r\n      innerHeight = _useDimensions.innerHeight,\r\n      outerWidth = _useDimensions.outerWidth,\r\n      outerHeight = _useDimensions.outerHeight;\r\n  var _useScatterPlot = useScatterPlot({\r\n    data: data,\r\n    xScaleSpec: xScaleSpec,\r\n    xFormat: xFormat,\r\n    yScaleSpec: yScaleSpec,\r\n    yFormat: yFormat,\r\n    width: innerWidth,\r\n    height: innerHeight,\r\n    nodeSize: nodeSize,\r\n    colors: colors\r\n  }),\r\n      xScale = _useScatterPlot.xScale,\r\n      yScale = _useScatterPlot.yScale,\r\n      nodes = _useScatterPlot.nodes,\r\n      legendData = _useScatterPlot.legendData;\r\n  var _useVoronoiMesh = useVoronoiMesh({\r\n    points: nodes,\r\n    width: innerWidth,\r\n    height: innerHeight,\r\n    debug: debugMesh\r\n  }),\r\n      delaunay = _useVoronoiMesh.delaunay,\r\n      voronoi = _useVoronoiMesh.voronoi;\r\n  var customLayerProps = useMemo(function () {\r\n    return _objectSpread$4({}, props, {\r\n      xScale: xScale,\r\n      yScale: yScale,\r\n      nodes: nodes,\r\n      margin: margin,\r\n      innerWidth: innerWidth,\r\n      innerHeight: innerHeight,\r\n      outerWidth: outerWidth,\r\n      outerHeight: outerHeight\r\n    });\r\n  }, [xScale, yScale, nodes, margin, innerWidth, innerHeight, outerWidth, outerHeight]);\r\n  useEffect(function () {\r\n    canvasEl.current.width = outerWidth * pixelRatio;\r\n    canvasEl.current.height = outerHeight * pixelRatio;\r\n    var ctx = canvasEl.current.getContext('2d');\r\n    ctx.scale(pixelRatio, pixelRatio);\r\n    ctx.fillStyle = theme.background;\r\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\r\n    ctx.translate(margin.left, margin.top);\r\n    layers.forEach(function (layer) {\r\n      if (layer === 'grid') {\r\n        ctx.lineWidth = theme.grid.line.strokeWidth;\r\n        ctx.strokeStyle = theme.grid.line.stroke;\r\n        enableGridX && renderGridLinesToCanvas(ctx, {\r\n          width: innerWidth,\r\n          height: innerHeight,\r\n          scale: xScale,\r\n          axis: 'x',\r\n          values: gridXValues\r\n        });\r\n        enableGridY && renderGridLinesToCanvas(ctx, {\r\n          width: innerWidth,\r\n          height: innerHeight,\r\n          scale: yScale,\r\n          axis: 'y',\r\n          values: gridYValues\r\n        });\r\n      } else if (layer === 'axes') {\r\n        renderAxesToCanvas(ctx, {\r\n          xScale: xScale,\r\n          yScale: yScale,\r\n          width: innerWidth,\r\n          height: innerHeight,\r\n          top: axisTop,\r\n          right: axisRight,\r\n          bottom: axisBottom,\r\n          left: axisLeft,\r\n          theme: theme\r\n        });\r\n      } else if (layer === 'nodes') {\r\n        nodes.forEach(function (node) {\r\n          renderNode(ctx, node);\r\n        });\r\n      } else if (layer === 'mesh') {\r\n        if (debugMesh === true) {\r\n          renderVoronoiToCanvas(ctx, voronoi);\r\n          if (currentNode) {\r\n            renderVoronoiCellToCanvas(ctx, voronoi, currentNode.index);\r\n          }\r\n        }\r\n      } else if (layer === 'legends') {\r\n        legends.forEach(function (legend) {\r\n          renderLegendToCanvas(ctx, _objectSpread$4({}, legend, {\r\n            data: legendData,\r\n            containerWidth: innerWidth,\r\n            containerHeight: innerHeight,\r\n            theme: theme\r\n          }));\r\n        });\r\n      } else if (typeof layer === 'function') {\r\n        layer(ctx, customLayerProps);\r\n      } else {\r\n        throw new Error(\"Invalid layer: \".concat(layer));\r\n      }\r\n    });\r\n  }, [canvasEl, innerWidth, innerHeight, outerWidth, outerHeight, margin.top, margin.left, pixelRatio, renderNode, layers, customLayerProps, theme, xScale, yScale, nodes, enableGridX, enableGridY, axisTop, axisRight, axisBottom, axisLeft, legends, legendData, debugMesh, voronoi, currentNode]);\r\n  var _useTooltip = useTooltip(),\r\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\r\n      hideTooltip = _useTooltip.hideTooltip;\r\n  var getNodeFromMouseEvent = useCallback(function (event) {\r\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\r\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\r\n        x = _getRelativeCursor2[0],\r\n        y = _getRelativeCursor2[1];\r\n    if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null;\r\n    var nodeIndex = delaunay.find(x - margin.left, y - margin.top);\r\n    return nodes[nodeIndex];\r\n  }, [canvasEl, margin, innerWidth, innerHeight, delaunay]);\r\n  var handleMouseHover = useCallback(function (event) {\r\n    var node = getNodeFromMouseEvent(event);\r\n    setCurrentNode(node);\r\n    if (node) {\r\n      showTooltipFromEvent(React.createElement(tooltip, {\r\n        node: node\r\n      }), event);\r\n      if (currentNode && currentNode.id !== node.id) {\r\n        onMouseLeave && onMouseLeave(currentNode, event);\r\n        onMouseEnter && onMouseEnter(node, event);\r\n      }\r\n      if (!currentNode) {\r\n        onMouseEnter && onMouseEnter(node, event);\r\n      }\r\n      onMouseMove && onMouseMove(node, event);\r\n    } else {\r\n      hideTooltip();\r\n      currentNode && onMouseLeave && onMouseLeave(currentNode, event);\r\n    }\r\n  }, [getNodeFromMouseEvent, currentNode, setCurrentNode, showTooltipFromEvent, hideTooltip, tooltip, onMouseEnter, onMouseMove, onMouseLeave]);\r\n  var handleMouseLeave = useCallback(function (event) {\r\n    hideTooltip();\r\n    setCurrentNode(null);\r\n    currentNode && onMouseLeave && onMouseLeave(currentNode, event);\r\n  }, [hideTooltip, currentNode, setCurrentNode, onMouseLeave]);\r\n  var handleClick = useCallback(function (event) {\r\n    if (onClick) {\r\n      var node = getNodeFromMouseEvent(event);\r\n      node && onClick(node, event);\r\n    }\r\n  }, [getNodeFromMouseEvent, onClick]);\r\n  return React.createElement(\"canvas\", {\r\n    ref: canvasEl,\r\n    width: outerWidth * pixelRatio,\r\n    height: outerHeight * pixelRatio,\r\n    style: {\r\n      width: outerWidth,\r\n      height: outerHeight,\r\n      cursor: isInteractive ? 'auto' : 'normal'\r\n    },\r\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\r\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\r\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\r\n    onClick: isInteractive ? handleClick : undefined\r\n  });\r\n};\r\nScatterPlotCanvas.propTypes = ScatterPlotCanvasPropTypes;\r\nScatterPlotCanvas.defaultProps = _objectSpread$4({}, ScatterPlotCanvasDefaultProps, {\r\n  renderNode: function renderNode(ctx, node) {\r\n    ctx.beginPath();\r\n    ctx.arc(node.x, node.y, node.size / 2, 0, 2 * Math.PI);\r\n    ctx.fillStyle = node.style.color;\r\n    ctx.fill();\r\n  }\r\n});\r\nvar ScatterPlotCanvas$1 = memo(withContainer(ScatterPlotCanvas));\r\n\r\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\r\nvar ResponsiveScatterPlotCanvas = function ResponsiveScatterPlotCanvas(props) {\r\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\r\n    var width = _ref.width,\r\n        height = _ref.height;\r\n    return React.createElement(ScatterPlotCanvas$1, _extends$3({\r\n      width: width,\r\n      height: height\r\n    }, props));\r\n  });\r\n};\r\n\r\nexport { NodePropType, ResponsiveScatterPlot, ResponsiveScatterPlotCanvas, ScatterPlot$1 as ScatterPlot, ScatterPlotCanvas$1 as ScatterPlotCanvas, ScatterPlotCanvasDefaultProps, ScatterPlotCanvasPropTypes, ScatterPlotDefaultProps, ScatterPlotPropTypes, useScatterPlot, useScatterPlotAnnotations };\r\n"]},"metadata":{},"sourceType":"module"}